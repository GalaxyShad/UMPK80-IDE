 ADR |                                                           MC | LABEL   | ASM                        ; COMMENT
     |                                                              |         |                            ; ******************************************************************
     |                                                              |         |                            ; *                                                                *
     |                                                              |         |                            ; *               РЕЗИДЕНТНЫЙ МОНИТОР ОДНОПЛАТНОЙ                  *
     |                                                              |         |                            ; *                       УЧЕБНОЙ МИКРОЭВМ                         *
     |                                                              |         |                            ; *                          УМПК-80/ВМ                            *
     |                                                              |         |                            ; *                                                                *
     |                                                              |         |                            ; ******************************************************************
     |                                                              |         |                            ; 
     |                                                              |         |                            ; АДРЕСА УВВ МОДУЛЯ
     |                                                              |         |                            ; 
     |                                                              | OTR     | EQU 4                      ; РЕГИСТР ВЫВОДА НА МАГНИТАФОН, ЗВУК
     |                                                              | ITR     | EQU 4                      ; РЕГИСТР ВВОДА С МАГНИТАФОНА
     |                                                              | LOUT    | EQU 5                      ; ВЫХОДНОЙ РЕГИСТР
     |                                                              | KEY     | EQU 6                      ; РЕГИСТР ЧТЕНИЯ КЛАВИАТУРЫ
     |                                                              | DSP     | EQU 6                      ; РЕГИСТР СЕГМЕНТОВ ДИСПЛЕЯ
     |                                                              | SCAN    | EQU 7                      ; РЕГИСТР СКАНИРОВАНИЯ
     |                                                              | CTL     | EQU 8                      ; РЕГИСТР УПРАВЛЕНИЯ (БАЗОВЫЙ АДРЕС)
     |                                                              |         |                            ; 
     |                                                              |         |                            ; НАЗНАЧЕНИЕ КОНСТАНТ
     |                                                              |         |                            ; 
     |                                                              | PC      | EQU 0800H                  ; НАЧАЛЬНОЕ ЗНАЧЕНИЕ PC ПОЛЬЗОВАТЕЛЯ
     |                                                              | TIME    | EQU 67H                    ; КОНСТАНТА ЦИКЛА ЗАДЕРЖКИ В 1 МС
     |                                                              | FREQ    | EQU 20H                    ; КОНСТАНТА ЧАСТОТЫ BEEP
     |                                                              | DUR     | EQU 40H                    ; КОНСТАНТА ДЛИТЕЛЬНОСТИ BEEP
     |                                                              | RS4C    | EQU 0AF6H                  ; ТОЧКА ВЫХОДА ПО RST 4
     |                                                              | RS5C    | EQU 0AF9H                  ; ТОЧКА ВЫХОДА ПО RST 5
     |                                                              | RS6C    | EQU 0AFCH                  ; ТОЧКА ВЫХОДА ПО RST 6
     |                                                              | TPR     | EQU 0AFFH                  ; ВЕРХ ЗАЩИЩЕННОГО ОЗУ
     |                                                              | UR      | EQU 0AEFH                  ; ВЕРХ ОЗУ (БЕЗ ТОЧЕК ВХОДА ПО RST)
     |                                                              | ERAM    | EQU 0CH                    ; КОНЕЦ ОЗУ
     |                                                              |         |                            ; 
     |                                                              |         |                            ; ОБЛАСТИ СТЕКА МОНИТОРА И ПОЛЬЗОВАТЕЛЯ В ОЗУ
     |                                                              |         |                            ; 
     |                                                              |         | ORG 0BB0H                  ; 
0BB0 |                                                              | USP:    | DS 0                       ; НАЧАЛЬНОЕ ЗНАЧЕНИЕ SP ПОЛЬЗОВАТЕЛЯ
0BB0 | 000000000000000000000000000000000000000000000000000000000000 |         | DS 1EH                     ; 
0BCE |                                                              | MSP:    | DS 0                       ; НАЧАЛЬНОЕ ЗНАЧЕНИЕ SP МОНИТОРА
     |                                                              |         |                            ; 
     |                                                              |         |                            ; ОБЛАСТЬ ПЕРЕМЕННЫХ МОНИТОРА В ОЗУ
     |                                                              |         |                            ; 
     |                                                              |         | ORG 0BD1H                  ; 
0BD1 |                                                         0000 | TSAVS:  | DS 2                       ; ВРЕМЕННАЯ ОБЛАСТЬ СОХРАНЕНИЯ SP
0BD3 |                                                         0000 | TSAVH:  | DS 2                       ; ВРЕМЕННАЯ ОБЛАСТЬ СОХРАНЕНИЯ PC
0BD5 |                                                           00 | RAML1:  | DS 1                       ; ВРЕМЕННАЯ ОБЛАСТЬ ПРОГРАММЫ JMP USER
0BD6 |                                                           00 | RS:     | DS 1                       ; АДРЕС СОСТОЯНИЯ ОЗУ
0BD7 |                                                     00000000 | RAML2:  | DS 4                       ; ОБЛАСТЬ ПРОГРАММЫ JMP USER
0BDB |                                                           00 | SAVRG:  | DS 1                       ; ОБЛАСТЬ СОХРАНЕНИЯ РЕГИСТРОВ
0BDC |                                                         0000 | SAVPC:  | DS 2                       ; ОБЛАСТЬ СОХРАНЕНИЯ PC
0BDE |                                                           00 | SAVSL:  | DS 1                       ; ОБЛАСТЬ СОХРАНЕНИЯ SPL
0BDF |                                                           00 | SAVSH:  | DS 1                       ; ОБЛАСТЬ СОХРАНЕНИЯ SPH
0BE0 |                                                         0000 | SAVL:   | DS 2                       ; ОБЛАСТЬ СОХРАНЕНИЯ L И H
0BE2 |                                                         0000 | SAVE:   | DS 2                       ; ОБЛАСТЬ СОХРАНЕНИЯ E И D
0BE4 |                                                         0000 | SAVC:   | DS 2                       ; ОБЛАСТЬ СОХРАНЕНИЯ C И B
0BE6 |                                                           00 | SAVPW:  | DS 1                       ; ОБЛАСТЬ СОХРАНЕНИЯ ФЛАГОВ
0BE7 |                                                           00 | SAVA:   | DS 1                       ; ОБЛАСТЬ СОХРАНЕНИЯ A
0BE8 |                                             0000000000000000 | UDKY:   | DS 8                       ; ОБЛАСТЬ ХРАНЕНИЯ ОБРАЗА КЛАВИАТУРЫ
0BF0 |                                                 000000000000 | UDSP:   | DS 6                       ; ОБЛАСТЬ НЕДЕКОДИРОВАННЫХ СООБЩЕНИЙ ДИСПЛЕЯ
0BF6 |                                                         0000 | UDSP6:  | DS 2                       ; ФЛАГ ВКЛЮЧЕНИЯ ДЕСЯТИЧНОЙ ТОЧКИ
0BF8 |                                                         0000 | RMP:    | DS 2                       ; УКАЗАТЕЛЬ СООБЩЕНИЯ О ТЕКУЩЕМ РГ
0BFA |                                                 000000000000 | DDSP:   | DS 6                       ; ОБЛАСТЬ ДЕКОДИРОВАННЫХ СООБЩЕНИЙ ДИСПЛЕЯ
     |                                                              |         | ORG 0000H                  ; 
     |                                                              |         |                            ; RST 0 - ТОЧКА ВХОДА В МОНИТОР ПО СБРОСУ
     |                                                              |         |                            ; ( КЛАВИША "R" ИЛИ ВКЛЮЧЕНИЕ ПИТАНИЯ )
     |                                                              |         |                            ; 
0000 |                                                         2608 | RESET:  | MVI H,008H                 ; АДРЕС НАЧАЛА ОЗУ
0002 |                                                           AF |         | XRA A                      ; 
0003 |                                                           2F |         | CMA                        ; 
0004 |                                                           77 |         | MOV M,A                    ; ЗАПИСЬ FF В ОДНУ ИЗ ЯЧЕЕК ОЗУ
0005 |                                                       C34000 |         | JMP STRT                   ; 
     |                                                              |         |                            ; RST 1 - ТОЧКА ВХОДА В МОНИТОР ПО ПРЕРЫВАНИЮ
     |                                                              |         |                            ; ( КЛАВИША "СТ" ИЛИ ТОЧКА ОСТАНОВА )
     |                                                              |         |                            ; 
0008 |                                                       22D30B | RS1:    | SHLD TSAVH                 ; 
000B |                                                         D308 |         | OUT 008H                   ; 
000D |                                                       C3F300 |         | JMP TRP                    ; 
     |                                                              |         |                            ; RST 2 - СВИСТОК С ФИКСИРОВАННОЙ ДЛИТЕЛЬНОСЬЮ И ТОНОМ
     |                                                              |         |                            ; 
0010 |                                                         0620 | BEEP:   | MVI B,FREQ                 ; ЧАСТОТА СИГНАЛА
0012 |                                                         1640 | BEEP1:  | MVI D,DUR                  ; ДЛИТЕЛЬНОСТЬ СИГНАЛА
0014 |                                                       C34704 |         | JMP BEEP2                  ; 
0017 |                                                           00 |         | NOP                        ; 
     |                                                              |         |                            ; RST 3 - ПЕРЕМЕЩЕНИЕ СООБЩЕНИЯ ПО АДРЕСУ DE В ОБЛАСТЬ UDSP
     |                                                              |         |                            ; 
0018 |                                                           C5 | STDM:   | PUSH B                     ; 
0019 |                                                       21F00B |         | LXI H,UDSP                 ; ПЕРВЫЙ СИМВОЛ В UDSP
001C |                                                       C33502 |         | JMP SDM                    ; 
001F |                                                           00 |         | NOP                        ; 
0020 |                                                       C3F60A | RS4:    | JMP RS4C                   ; ПЕРЕХОД НА П/П ПОЛЬЗОВАТЕЛЯ
0023 |                                                       000000 |         | DB 0,0,0                   ; 
0026 |                                                         0000 |         | DB 0,0                     ; 
0028 |                                                       C3F90A | RS5:    | JMP RS5C                   ; ПЕРЕХОД НА П/П ПОЛЬЗОВАТЕЛЯ
002B |                                                       000000 |         | DB 0,0,0                   ; 
002E |                                                         0000 |         | DB 0,0                     ; 
0030 |                                                       C3FC0A | RS6:    | JMP RS6C                   ; ПЕРЕХОД НА П/П ПОЛЬЗОВАТЕЛЯ
0033 |                                                       000000 |         | DB 0,0,0                   ; 
0036 |                                                         0000 |         | DB 0,0                     ; 
0038 |                                                           D7 | RS7:    | RST 2                      ; СВИСТОК
0039 |                                                       C3AC00 |         | JMP STRT6                  ; ВОЗВРАТ В МОНИТОР
003C |                                                       000000 |         | DB 0,0,0                   ; 
003F |                                                           00 |         | DB 0                       ; 
     |                                                              |         |                            ; ТЕСТ САМОПРОВЕРКИ И НАЧАЛЬНАЯ
     |                                                              |         |                            ; 
0040 |                                                           BE | STRT:   | CMP M                      ; ЗАЩИТА ПАМЯТИ СНЯТА?
0041 |                                                       C2C800 |         | JNZ PPER                   ; - ЕСЛИ НЕТ (ПОПАЛИ НА RST 0 ИЗ-ЗА ОШИБКИ СТЕКА ПОЛЬЗОВАТЕЛЯ)
0044 |                                                       31CE0B |         | LXI SP,MSP                 ; ИНИЦИАЛИЗАЦИЯ СТЕКА МОНИТОРА
0047 |                                                           AF |         | XRA A                      ; 
0048 |                                                           67 |         | MOV H,A                    ; 
0049 |                                                           6F |         | MOV L,A                    ; 
004A |                                                         D305 |         | OUT LOUT                   ; 
     |                                                              |         |                            ; ТЕСТ ПЗУ МОДУЛЯ
     |                                                              |         |                            ; 
004C |                                                           86 | STRT1:  | ADD M                      ; ВЫЧИСЛЕНИЕ КОНТРОЛЬНОЙ СУММЫ ПЗУ
004D |                                                           23 |         | INX H                      ; 
004E |                                                           4F |         | MOV C,A                    ; 
004F |                                                         3E08 |         | MVI A,8H                   ; ПЗУ КОНЧИЛОСЬ?
0051 |                                                           BC |         | CMP H                      ; 
0052 |                                                           79 |         | MOV A,C                    ; 
0053 |                                                       C24C00 |         | JNZ STRT1                  ; - НЕТ, ПРОДОЛЖЕНИЕ ЦИКЛА
0056 |                                                           2B |         | DCX H                      ; HL - НА ЗНАЧЕНИЕ КОНТРОЛЬНОЙ СУММЫ
0057 |                                                           96 |         | SUB M                      ; 
0058 |                                                           BE |         | CMP M                      ; 
0059 |                                                         1E7C |         | MVI E,07CH                 ; СООБЩИМ ОБ ОШИБКЕ
005B |                                                       000000 |         | DB 0,0,0                   ; JNZ MERR1 - ПЕРЕХОД НА ЕЕ ИНДИКАЦИЮ
     |                                                              |         |                            ; 
     |                                                              |         |                            ; ТЕСТ ОЗУ МОДУЛЯ
     |                                                              |         |                            ; 
005E |                                                           AF |         | XRA A                      ; ОЧИСТИМ А
005F |                                                       210008 |         | LXI H,PC                   ; HL НА НАЧАЛО ОЗУ
0062 |                                                         0603 |         | MVI B,3                    ; ПОСТОЯННОЕ СЛАГАЕМОЕ
0064 |                                                           77 | STRT2:  | MOV M,A                    ; ЗАПОМНИМ В ПАМЯТИ
0065 |                                                           80 |         | ADD B                      ; УВЕЛИЧИМ А НА 3
0066 |                                                           23 |         | INX H                      ; НА СЛЕДУЮЩИЙ АДРЕС ОЗУ
0067 |                                                           4F |         | MOV C,A                    ; 
0068 |                                                           7C |         | MOV A,H                    ; 
0069 |                                                         FE0C |         | CPI ERAM                   ; ОЗУ КОНЧИЛОСЬ?
006B |                                                           79 |         | MOV A,C                    ; 
006C |                                                       C26400 |         | JNZ STRT2                  ; - НЕТ, ПРОДОЛЖИМ ЗАПИСЬ
006F |                                                           AF |         | XRA A                      ; 
0070 |                                                       210008 |         | LXI H,PC                   ; HL НА НАЧАЛО ПАМЯТИ
0073 |                                                           BE | STRT3:  | CMP M                      ; ДАННЫЕ ЗАПИСАЛИСЬ ПРАВИЛЬНО?
0074 |                                                       C2DC00 |         | JNZ MERR                   ; - ЕСЛИ БЫЛА ОШИБКА
0077 |                                                           2F |         | CMA                        ; 
0078 |                                                           77 |         | MOV M,A                    ; ЗАПИШЕМ ИНВЕРТИРОВАННЫЙ БАЙТ
0079 |                                                           BE |         | CMP M                      ; ОН ЗАПИСАЛСЯ ПРАВИЛЬНО?
007A |                                                       C2DC00 |         | JNZ MERR                   ; - БЫЛА ОШИБКА
007D |                                                           2F |         | CMA                        ; НАЧАЛЬНОЕ ЗНАЧЕНИЕ А
007E |                                                           80 |         | ADD B                      ; 
007F |                                                           23 |         | INX H                      ; СЛЕДУЮЩИЙ АДРЕС ПАМЯТИ
0080 |                                                           4F |         | MOV C,A                    ; 
0081 |                                                           7C |         | MOV A,H                    ; 
0082 |                                                         FE0C |         | CPI ERAM                   ; ДОШЛИ ДО КОНЦА ОЗУ?
0084 |                                                           79 |         | MOV A,C                    ; 
0085 |                                                       C27300 |         | JNZ STRT3                  ; НЕТ - ПРОДОЛЖИМ ПРОВЕРКУ
     |                                                              |         |                            ; 
     |                                                              |         |                            ; ТЕСТ ДИСПЛЕЙ МОДУЛЯ
     |                                                              |         |                            ; 
0088 |                                                         0680 |         | MVI B,080H                 ; СЧЕТЧИК ЦИКЛА
008A |                                                       118102 | STRT4:  | LXI D,ALL                  ; СООБЩЕНИЕ "ВСЕ СЕГМЕНТЫ"
008D |                                                           DF |         | RST 3                      ; СКОПИРУЕМ ЕГО В ОБЛАСТЬ ДИСПЛЕЯ
008E |                                                       CDE901 |         | CALL DCD                   ; И ОТОБРАЗИМ
0091 |                                                           05 |         | DCR B                      ; ЦИКЛ КОНЧИЛСЯ?
0092 |                                                       C28A00 |         | JNZ STRT4                  ; НЕТ, ПРОДОЛЖАЕМ
     |                                                              |         |                            ; 
     |                                                              |         |                            ; ОЧИСТКА ПАМЯТИ (ЗАПОЛНЕНИЕ НУЛЯМИ)
     |                                                              |         |                            ; 
0095 |                                                         0600 |         | MVI B,0                    ; 
0097 |                                                         3E0C |         | MVI A,ERAM                 ; СТАРШИЙ БАЙТ АДРЕСА ВЕРХУШКИ ОЗУ
0099 |                                                       210008 |         | LXI H,PC                   ; HL - НА НАЧАЛО ОЗУ
009C |                                                           70 | STRT5:  | MOV M,B                    ; ОЧИСТИМ ЯЧЕЙКУ ПАМЯТИ
009D |                                                           23 |         | INX H                      ; 
009E |                                                           BC |         | CMP H                      ; 
009F |                                                       C29C00 |         | JNZ STRT5                  ; ПОКА НЕ ДОЙДЕМ ДО ВЕРХУШКИ ОЗУ
00A2 |                                                         3EFF |         | MVI A,0FFH                 ; 
00A4 |                                                         D305 |         | OUT LOUT                   ; ВКЛЮЧИМ СВЕТОДИОДЫ ВЕРХНЕГО РГ
00A6 |                                                       CDA006 |         | CALL LMC                   ; СЫГРАЕМ МУЗЫКУ
00A9 |                                                           AF |         | XRA A                      ; 
00AA |                                                         D305 |         | OUT LOUT                   ; ВЫКЛЮЧИМ СВЕТОДИОДЫ (ОЧИСТИМ LOUT)
     |                                                              |         |                            ; 
     |                                                              |         |                            ; ИНИЦИАЛИЗАЦИЯ ПЕРЕМЕННЫХ МОНИТОРА
     |                                                              |         |                            ; 
00AC |                                                       21B00B | STRT6:  | LXI H,USP                  ; СТЕК ПОЛЬЗОВАТЕЛЯ
00AF |                                                       22DE0B |         | SHLD SAVSL                 ; 
00B2 |                                                       21D60B |         | LXI H,RS                   ; АДРЕС СОСТОЯНИЯ
00B5 |                                                         3600 |         | MVI M,0                    ; УСТАНОВИМ СОСТОЯНИЕ "МОНИТОР"
00B7 |                                                       210008 |         | LXI H,PC                   ; НАЧАЛО ОЗУ
00BA |                                                       22DC0B |         | SHLD SAVPC                 ; НАЧАЛО ПРОГРАММЫ ПОЛЬЗОВАТЕЛЯ
     |                                                              |         |                            ; ПО УМОЛЧАНИЮ
00BD |                                                         3EFF |         | MVI A,0FFH                 ; КОД RST7
00BF |                                                       32FF0A |         | STA TPR                    ; ЗАПОМНИМ ЕГО ОЗУ
00C2 |                                                       32EF0A |         | STA UR                     ; 
00C5 |                                                       C31101 |         | JMP TRP3                   ; ПЕРЕЙДЕМ НА МОНИТОР
     |                                                              |         |                            ; 
     |                                                              |         |                            ; ОБРАБОТКА ОШИБОК СТЕКА
     |                                                              |         |                            ; 
00C8 |                                                       31CE0B | PPER:   | LXI SP,MSP                 ; СТЕК МОНИТОРА
00CB |                                                       210008 |         | LXI H,PC                   ; СЧЕТЧИК КОМАНД ПО УМОЛЧАНИЮ
00CE |                                                       22DC0B |         | SHLD SAVPC                 ; ЗАПОМНИМ ЕГО
00D1 |                                                           D7 |         | RST 2                      ; СИГНАЛ ОШИБКИ
00D2 |                                                           AF |         | XRA A                      ; 
00D3 |                                                       32D60B |         | STA RS                     ; СОСТОЯНИЕ "МОНИТОР"
00D6 |                                                       118D02 |         | LXI D,PPM                  ; УКАЗАТЬ НА ОШИБКУ РАБОТЫ СО СТЕКОМ
00D9 |                                                       C31501 |         | JMP TRP4                   ; 
     |                                                              |         |                            ; ИНДИКАЦИЯ ОШИБОК ЗУ
     |                                                              |         |                            ; 
00DC |                                                         1E87 | MERR:   | MVI E,87H                  ; АДРЕС СООБЩЕНИЯ ОБ ОШИБКЕ ОЗУ
00DE |                                                         1602 |         | MVI D,2                    ; 
00E0 |                                                           DF |         | RST 3                      ; ПЕРЕМЕСТИМ ЕГО В ОБЛАСТИ ДИСПЛЕЯ
00E1 |                                                       21F50B |         | LXI H,UDSP + 5             ; 
00E4 |                                                         3610 |         | MVI M,10H                  ; 
00E6 |                                                           D7 | MERR2:  | RST 2                      ; БУДЕМ СВИСТЕТЬ
00E7 |                                                         0670 |         | MVI B,70H                  ; 
00E9 |                                                       CDE901 | MERR3:  | CALL DCD                   ; И ВЫВОДИТЬ СООБЩЕНИЕ
00EC |                                                           05 |         | DCR B                      ; 
00ED |                                                       C2E900 |         | JNZ MERR3                  ; 
00F0 |                                                       C3E600 |         | JMP MERR2                  ; 
     |                                                              |         |                            ; RST 1 - ГЛАВНАЯ ТОЧКА ВХОДА В МОНИТОР
     |                                                              |         |                            ; 
00F3 |                                                       210000 | TRP:    | LXI H,0                    ; ИЗВЛЕКАЕМ SP ПОЛЬЗОВАТЕЛЯ,
00F6 |                                                       D2FA00 |         | JNC TRP1                   ; СОХРАНИВ ЕГО ФЛАГ CY
00F9 |                                                           2B |         | DCX H                      ; 
00FA |                                                           39 | TRP1:   | DAD SP                     ; 
00FB |                                                       D2FF00 |         | JNC TRP2                   ; 
00FE |                                                           23 |         | INX H                      ; 
00FF |                                                       22D10B | TRP2:   | SHLD TSAVS                 ; СОХРАНИМ SP ПОЛЬЗОВАТЕЛЯ
0102 |                                                       31D10B |         | LXI SP,TSAVS               ; АДРЕС ОБЛАСТИ СОХРАНЕНИЯ PSW
0105 |                                                           F5 |         | PUSH PSW                   ; 
0106 |                                                       21D60B |         | LXI H,RS                   ; АДРЕС ПРИЗНАКА СОСТОЯНИЯ
0109 |                                                           AF |         | XRA A                      ; 
010A |                                                           BE |         | CMP M                      ; СОСТОЯНИЕ "МОНИТОР"
010B |                                                       32F60B |         | STA UDSP6                  ; ОЧИЩАЕМ ПРИЗНАК МОДИФИКАЦИИ ДАННЫХ
010E |                                                       C22401 |         | JNZ TRP6                   ; - ЕСЛИ ПРИШЛИ ИЗ ПРОГРАММЫ ПОЛЬЗОВ.
0111 |                                                       114102 | TRP3:   | LXI D,DMT                  ; СООБЩЕНИЕ "НАЧАЛО"
0114 |                                                           FB |         | EI                         ; 
0115 |                                                           AF | TRP4:   | XRA A                      ; 
0116 |                                                         D305 |         | OUT LOUT                   ; ОЧИСТИМ ВЫХОДНОЙ РЕГИСТР
0118 |                                                         D308 |         | OUT CTL                    ; СНИМЕМ ЗАЩИТУ ОЗУ
011A |                                                           DF |         | RST 3                      ; СООБЩЕНИЕ - В ОБЛАСТЬ ДИСПЛЕЯ
011B |                                                       CD4B01 | TRP5:   | CALL KIND                  ; ВВЕДЕМ КЛАВИШУ
011E |                                                       CDB802 |         | CALL CFETA                 ; ОПРЕДЕЛЕНИЕ ЖОСТУПНЫХ КЛАВИШ
0121 |                                                       C31B01 |         | JMP TRP5                   ; 
0124 |                                                           77 | TRP6:   | MOV M,A                    ; УСТАНОВИМ СОСТОЯНИЕ "МОНИТОР"
     |                                                              |         |                            ; 
     |                                                              |         |                            ; СОХРАНЕНИЕ РЕГИСТРОВ ПОЛЬЗОВАТЕЛЯ
     |                                                              |         |                            ; 
0125 |                                                           F1 |         | POP PSW                    ; 
0126 |                                                           E1 |         | POP H                      ; ЗАПИСАТЬ ТЕКУЩЕЕ ЗНАЧЕНИЕ SP В HL
0127 |                                                           23 |         | INX H                      ; 
0128 |                                                           23 |         | INX H                      ; 
0129 |                                                       22DE0B |         | SHLD SAVSL                 ; СОХРАНИТЬ ЕГО В ОЗУ
012C |                                                           2B |         | DCX H                      ; 
012D |                                                           2B |         | DCX H                      ; 
012E |                                                           F9 |         | SPHL                       ; ВОССТАНОВИТЬ SP ПОЛЬЗОВАТЕЛЯ
012F |                                                           E1 |         | POP H                      ; АДРЕС ВОЗВРАТА К ПРОГРАММЕ ПОЛЬЗОВ.
0130 |                                                       22DC0B |         | SHLD SAVPC                 ; СОХРАНИМ ЕГО В ОЗУ
0133 |                                                       31E80B |         | LXI SP,0BE8H               ; АДРЕС СОХРАНЕНИЯ РЕГИСТРОВ
0136 |                                                       2AD30B |         | LHLD TSAVH                 ; ВОССТАНОВИТЬ HL
0139 |                                                           F5 |         | PUSH PSW                   ; СОХРАНИМ РЕГИСТРЫ ПОЛЬЗОВАТЕЛЯ
013A |                                                           C5 |         | PUSH B                     ; 
013B |                                                           D5 |         | PUSH D                     ; 
013C |                                                           E5 |         | PUSH H                     ; 
013D |                                                           FB |         | EI                         ; 
013E |                                                           00 |         | NOP                        ; 
013F |                                                           00 |         | NOP                        ; 
0140 |                                                           00 |         | NOP                        ; 
0141 |                                                       31DC0B | TRP7:   | LXI SP,SAVPC               ; 
0144 |                                                           C1 |         | POP B                      ; 
0145 |                                                       31CE0B |         | LXI SP,MSP                 ; ВОССТАНОВИТЬ SP МОНИТОРА
0148 |                                                       C36403 |         | JMP FETA3                  ; 
     |                                                              |         |                            ; ВВОД И ОПРЕДЕНИЕ КОДА НАЖАТОЙ КЛАВИШИ
     |                                                              |         |                            ; 
014B |                                                           D5 | KIND:   | PUSH D                     ; 
014C |                                                           E5 |         | PUSH H                     ; 
014D |                                                       CDE901 | KIND1:  | CALL DCD                   ; ВЫДАТЬ СООБЩЕНИЕ НА ДИСПЛЕЙ
0150 |                                                       CD8501 |         | CALL KPU                   ; КЛАВИША НАЖАТА?
0153 |                                                       C24D01 |         | JNZ KIND1                  ; ДА, ПОДОЖДЕМ ПОКА НЕ ОТПУСТЯТ
0156 |                                                       CDE901 | KIND2:  | CALL DCD                   ; ВЫДАТЬ СООБЩЕНИЕ НА ДИСПЛЕЙ
0159 |                                                       CD8501 |         | CALL KPU                   ; 
015C |                                                       CA5601 |         | JZ KIND2                   ; ЕСЛИ НЕТ НАЖАТОЙ КЛАВИШИ - ЖДАТЬ
015F |                                                       21E80B |         | LXI H,UDKY                 ; АДРЕС ОБРАЗА 0 СТРОКИ КЛАВИАТУРЫ
0162 |                                                         16FF |         | MVI D,0FFH                 ; СЧЕТЧИК СТРОК = -1
0164 |                                                           7E | KIND3:  | MOV A,M                    ; ПОЛУЧИМ ОБРАЗ ТЕКУЩЕЙ СТРОКИ
0165 |                                                         FEF7 |         | CPI 0F7H                   ; КЛАВИША "ШАГ МАШИННОГО ЦИКЛА"?
0167 |                                                       CA8201 |         | JZ KIND5                   ; ДА, ПЕРЕЙДЕМ
016A |                                                           2F |         | CMA                        ; 
016B |                                                           2C |         | INR L                      ; СЛЕДУЮЩАЯ СТРОКА
016C |                                                           14 |         | INR D                      ; СЛЕДУЮЩИЙ БЛОК ТАБЛИЦЫ СООТВЕТСТВИЯ
016D |                                                           A7 |         | ANA A                      ; ЕСТЬ КЛАВИША В ЭТОЙ СТРОКЕ?
016E |                                                       CA6401 |         | JZ KIND3                   ; НЕТ, ПЕРЕЙДЕМ НА СЛЕДУЮЩУЮ
0171 |                                                         FE04 |         | CPI 4                      ; 
0173 |                                                       C27701 |         | JNZ KIND4                  ; 
0176 |                                                           3D |         | DCR A                      ; УСТАНОВИМ А = 3, ЕСЛИ БЫЛО А = 4
0177 |                                                           82 | KIND4:  | ADD D                      ; ПРИБАВИМ ТРИ РАЗА НОМЕР СТРОКИ ДЛЯ
0178 |                                                           82 |         | ADD D                      ; ПОЛУЧЕНИЯ СМЕЩЕНИЯ В ТАБЛИЦЕ
0179 |                                                           82 |         | ADD D                      ; 
017A |                                                           5F |         | MOV E,A                    ; ЗАПОМНИМ ИНДЕКС ТАБЛ. СООТВЕТСТВИЯ
017B |                                                         1600 |         | MVI D,0                    ; 
017D |                                                       21AF01 |         | LXI H,KIT - 1              ; НАЧАЛЬНЫЙ АДРЕС ТАБЛИЦЫ СООТВ
0180 |                                                           19 |         | DAD D                      ; АДРЕС КОДА НАЖАТОЙ КЛАВИШИ
0181 |                                                           7E |         | MOV A,M                    ; ПОЛУЧИМ ЕЕ КОД
0182 |                                                           E1 | KIND5:  | POP H                      ; 
0183 |                                                           D1 |         | POP D                      ; 
0184 |                                                           C9 |         | RET                        ; 
     |                                                              |         |                            ; ОПРЕДЕЛЕНИЕ ФАКТА НАЖАТИЯ КАКОЙ-ЛИБО КЛАВИШИ
     |                                                              |         |                            ; 
0185 |                                                           C5 | KPU:    | PUSH B                     ; 
0186 |                                                       CD9A01 |         | CALL KRD                   ; СЧИТАЕМ КЛАВИАТУРУ
0189 |                                                         0608 |         | MVI B,8                    ; ЧИСЛО СТРОК КЛАВИАТУРЫ
018B |                                                       21E80B |         | LXI H,UDKY                 ; ОБЛАСТЬ ЗАПИСИ ОБРАЗА КЛАВИАТУРЫ
018E |                                                         3EFF |         | MVI A,0FFH                 ; 
0190 |                                                           A6 | KPU1:   | ANA M                      ; ЕСТЬ ЛИ НАЖАТАЯ КЛАВИША?
0191 |                                                           2C |         | INR L                      ; 
0192 |                                                           05 |         | DCR B                      ; 
0193 |                                                       C29001 |         | JNZ KPU1                   ; ПРОВЕРЯЕМ ВСЕ СТРОКИ КЛАВИАТУРЫ
0196 |                                                         FEFF |         | CPI 0FFH                   ; ПРИЗНАК Z = 0, ЕСЛИ НЕТ НАЖАТЫХ КЛАВИШ
0198 |                                                           C1 |         | POP B                      ; 
0199 |                                                           C9 |         | RET                        ; 
     |                                                              |         |                            ; ЧТЕНИЕ КЛАВИАТУРЫ И ЗАПОМИНАНИЕ ЕЁ ОБРАЗА В ОЗУ (UDKY)
     |                                                              |         |                            ; 
019A |                                                       21E80B | KRD:    | LXI H,UDKY                 ; ОБЛАСТЬ ЗАПИСИ ОБРАЗА КЛАВИАТУРЫ
019D |                                                           AF |         | XRA A                      ; 
019E |                                                         D306 |         | OUT DSP                    ; ОЧИСТИМ ДИСПЛЕЙ
01A0 |                                                           2F |         | CMA                        ; 
01A1 |                                                           3D |         | DCR A                      ; 11111110 В - УКАЗАТЕЛЬ СКАНИРОВАНИЯ
01A2 |                                                           37 |         | STC                        ; 
01A3 |                                                         D307 | KRD1:   | OUT SCAN                   ; ВЫБЕРЕМ ОДНУ СТРОКУ
01A5 |                                                           47 |         | MOV B,A                    ; 
01A6 |                                                         DB06 |         | IN KEY                     ; ВВОДИМ ВЫБРАННУЮ СТРОКУ
01A8 |                                                           77 |         | MOV M,A                    ; 
01A9 |                                                           78 |         | MOV A,B                    ; 
01AA |                                                           2C |         | INR L                      ; АДРЕС СЛЕДУЮЩЕЙ СТРОКИ
01AB |                                                           17 |         | RAL                        ; УКАЗАТЕЛЬ - НА СЛЕДУЮЩУЮ СТРОКУ
01AC |                                                       DAA301 |         | JC KRD1                    ; ПОВТОРИМ ЕСЛИ НЕ КОНЧИЛИ
01AF |                                                           C9 |         | RET                        ; 
     |                                                              |         |                            ; ТАБЛИЦА ОПРЕДЕЛЕНИЯ КОДОВ КЛАВИШ
     |                                                              |         |                            ; 
01B0 |                                                           86 | KIT:    | DB 86H                     ; ШАГ КОМАНДЫ
01B1 |                                                           85 |         | DB 85H                     ; ПРОГРАММНЫЙ СЧЕТЧИК
01B2 |                                                           00 |         | DB 0                       ; НЕ ИСПОЛЬЗУЕТСЯ
01B3 |                                                           84 |         | DB 84H                     ; ПУСК
01B4 |                                                           80 |         | DB 80H                     ; ОТЫСКАНИЕ РЕГИСТРА
01B5 |                                                           82 |         | DB 82H                     ; ОТЫСКАНИЕ АДРЕСА
01B6 |                                                           00 |         | DB 0                       ; 0
01B7 |                                                           83 |         | DB 83H                     ; ЗАПИСАТЬ / УВЕЛИЧИТЬ
01B8 |                                                           81 |         | DB 81H                     ; УМЕНЬШИТЬ
01B9 |                                                           01 |         | DB 1                       ; 1
01BA |                                                           02 |         | DB 2                       ; 2
01BB |                                                           03 |         | DB 3                       ; 3
01BC |                                                           04 |         | DB 4                       ; 4
01BD |                                                           05 |         | DB 5                       ; 5
01BE |                                                           06 |         | DB 6                       ; 6
01BF |                                                           07 |         | DB 7                       ; 7
01C0 |                                                           08 |         | DB 8                       ; 8
01C1 |                                                           09 |         | DB 9                       ; 9
01C2 |                                                           0A |         | DB 0AH                     ; A
01C3 |                                                           0B |         | DB 0BH                     ; B
01C4 |                                                           0C |         | DB 0CH                     ; C
01C5 |                                                           0D |         | DB 0DH                     ; D
01C6 |                                                           0E |         | DB 0EH                     ; E
01C7 |                                                           0F |         | DB 0FH                     ; F
     |                                                              |         |                            ; 
     |                                                              |         |                            ; СКАНИРОВАНИЕ ДИСПЛЕЯ (ОДИН РАЗ)
     |                                                              |         |                            ; 
01C8 |                                                           F5 | SDS:    | PUSH PSW                   ; 
01C9 |                                                           E5 |         | PUSH H                     ; 
01CA |                                                           C5 |         | PUSH B                     ; 
01CB |                                                       21FF0B |         | LXI H,DDSP + 5             ; АДРЕС ПОСЛЕДНЕГО СИМВОЛА
01CE |                                                         0620 |         | MVI B,20H                  ; УКАЗАТЕЛЬ - НА ПЯТЫЙ СИМВОЛ
01D0 |                                                           AF | SDS1:   | XRA A                      ; 
01D1 |                                                         D307 |         | OUT SCAN                   ; ПОГАСИМ ДИСПЛЕЙ
01D3 |                                                           7E |         | MOV A,M                    ; КОД ОТОБРАЖАЕМОГО СИМВОЛА
01D4 |                                                         D306 |         | OUT DSP                    ; ЗАПИСЫВАЕМ В РЕГИСТР СЕГМЕНТОВ
01D6 |                                                           78 |         | MOV A,B                    ; 
01D7 |                                                         D307 |         | OUT SCAN                   ; И ВКЛЮЧАЕМ НУЖНЫЙ ИНДИКАТОР
01D9 |                                                       CD2904 |         | CALL DELA                  ; ЗАДЕРЖКА 1 МС
01DC |                                                           2D |         | DCR L                      ; АДРЕС КОДА СЛЕДУЮЩЕГО СИМВОЛА
01DD |                                                           1F |         | RAR                        ; УКАЗАТЕЛЬ - НА СЛЕДУЮЩИЙ СИМВОЛ
01DE |                                                           47 |         | MOV B,A                    ; 
01DF |                                                       D2D001 |         | JNC SDS1                   ; ОТОБРАЖАЕМ 6 СИМВОЛОВ
01E2 |                                                           AF |         | XRA A                      ; 
01E3 |                                                         D306 |         | OUT DSP                    ; ГАСИМ ДИСПЛЕЙ
01E5 |                                                           C1 |         | POP B                      ; 
01E6 |                                                           E1 |         | POP H                      ; 
01E7 |                                                           F1 |         | POP PSW                    ; 
01E8 |                                                           C9 |         | RET                        ; 
     |                                                              |         |                            ; ДЕКОДИРОВАНИЕ ВЫВОДИМОГО СИМВОЛА
     |                                                              |         |                            ; 
01E9 |                                                           F5 | DCD:    | PUSH PSW                   ; 
01EA |                                                           C5 |         | PUSH B                     ; 
01EB |                                                           D5 |         | PUSH D                     ; 
01EC |                                                           E5 |         | PUSH H                     ; 
01ED |                                                       01FA0B |         | LXI B,DDSP                 ; ОБЛАСТЬ ДЕКОДИРОВАННЫХ СИМВОЛОВ
01F0 |                                                       11F00B |         | LXI D,UDSP                 ; ОБЛАСТЬ НЕДЕКОДИРОВАННЫХ СИМВОЛОВ
01F3 |                                                       211802 | DCD1:   | LXI H,DCC                  ; ТАБЛИЦА ДЕКОДИРОВАНИЯ СИМВОЛОВ
01F6 |                                                           1A |         | LDAX D                     ; ПО СМЕЩЕНИЮ В ТАБЛИЦЕ ПОЛУЧИМ КОД
01F7 |                                                           D5 |         | PUSH D                     ; 
01F8 |                                                           5F |         | MOV E,A                    ; 
01F9 |                                                         1600 |         | MVI D,0                    ; 
01FB |                                                           19 |         | DAD D                      ; 
01FC |                                                           7E |         | MOV A,M                    ; 
01FD |                                                           02 |         | STAX B                     ; ЗАПОМНИМ ЕГО
01FE |                                                           D1 |         | POP D                      ; 
01FF |                                                           1C |         | INR E                      ; 
0200 |                                                           0C |         | INR C                      ; 
0201 |                                                       C2F301 |         | JNZ DCD1                   ; НЕ ПОСЛЕДНИЙ СИМВОЛ - ПЕРЕЙДЕМ
0204 |                                                       21FA0B |         | LXI H,DDSP                 ; ПЕРВЫЙ ДЕКОДИРОВАННЫЙ СИМВОЛ
0207 |                                                           1A |         | LDAX D                     ; АДРЕС ПРИЗНАКА МОДИФИКАЦИИ ДАННЫХ
0208 |                                                           A7 |         | ANA A                      ; 
0209 |                                                       CA1002 |         | JZ DCD2                    ; 
020C |                                                           7E |         | MOV A,M                    ; 
020D |                                                         F680 |         | ORI 080H                   ; ЕСЛИ ПРИЗНАК УСТАНОВЛЕН - ПОСТАВИМ
020F |                                                           77 |         | MOV M,A                    ; ЗАПЯТУЮ В ПОЗИЦИИ ПЕРВОГО СИМВОЛА
0210 |                                                           E1 | DCD2:   | POP H                      ; 
0211 |                                                           D1 |         | POP D                      ; 
0212 |                                                           C1 |         | POP B                      ; 
0213 |                                                           F1 |         | POP PSW                    ; 
0214 |                                                       CDC801 |         | CALL SDS                   ; ОТОБРАЗИМ СООБЩЕНИЕ
0217 |                                                           C9 |         | RET                        ; 
     |                                                              |         |                            ; ТАБЛИЦА ДЕКОДИРОВАНИЯ ОТОБРАЖАЕМЫХ СИМВОЛОВ
     |                                                              |         |                            ; 
0218 |                                                           3F | DCC:    | DB 3FH                     ; 0
0219 |                                                           06 |         | DB 6H                      ; 1
021A |                                                           5B |         | DB 5BH                     ; 2
021B |                                                           4F |         | DB 4FH                     ; 3
021C |                                                           66 |         | DB 66H                     ; 4
021D |                                                           6D |         | DB 6DH                     ; 5
021E |                                                           7D |         | DB 7DH                     ; 6
021F |                                                           07 |         | DB 7H                      ; 7
0220 |                                                           7F |         | DB 7FH                     ; 8
0221 |                                                           6F |         | DB 6FH                     ; 9
0222 |                                                           77 |         | DB 77H                     ; A
0223 |                                                           7C |         | DB 7CH                     ; B
0224 |                                                           39 |         | DB 39H                     ; C
0225 |                                                           5E |         | DB 5EH                     ; D
0226 |                                                           79 |         | DB 79H                     ; E
0227 |                                                           71 |         | DB 71H                     ; F
0228 |                                                           00 |         | DB 0                       ; ПРОБЕЛ
0229 |                                                           76 |         | DB 76H                     ; H
022A |                                                           38 |         | DB 38H                     ; L
022B |                                                           6E |         | DB 6EH                     ; Y
022C |                                                           73 |         | DB 73H                     ; Р
022D |                                                           54 |         | DB 54H                     ; Л
022E |                                                           5C |         | DB 5CH                     ; О
022F |                                                           08 |         | DB 8                       ; _
0230 |                                                           37 |         | DB 37H                     ; П
0231 |                                                           40 |         | DB 40H                     ; -
0232 |                                                           FF |         | DB 0FFH                    ; ВСЕ СЕГМЕНТЫ
0233 |                                                           50 |         | DB 50H                     ; R
0234 |                                                           30 |         | DB 30H                     ; 1 ЛЕВАЯ
     |                                                              |         |                            ; 
     |                                                              |         |                            ; КОПИРОВАНИЕ ОТОБРАЖАЕМОГО СООБЩЕНИЯ ПО DE В UDSP ОЗУ
     |                                                              |         |                            ; 
0235 |                                                         0606 | SDM:    | MVI B,6                    ; КОПИРУЕМ 6 СИМВОЛОВ
0237 |                                                           1A | SDM1:   | LDAX D                     ; КОПИРУЕМ СИМВОЛ
0238 |                                                           77 |         | MOV M,A                    ; ЗАПОМНИМ ЕГО В UDSPX
0239 |                                                           2C |         | INR L                      ; СЛЕДУЮЩАЯ ЯЧЕЙКА UDSP
023A |                                                           13 |         | INX D                      ; СЛЕДУЮЩИЙ СИМВОЛ
023B |                                                           05 |         | DCR B                      ; ВСЕ СИМВОЛЫ?
023C |                                                       C23702 |         | JNZ SDM1                   ; НЕТ, ПОВТОРИМ
023F |                                                           C1 |         | POP B                      ; 
0240 |                                                           C9 |         | RET                        ; 
     |                                                              |         |                            ; ТАБЛИЦА СООБЩЕНИЙ
     |                                                              |         |                            ; 
0241 |                                                 16150A040A11 | DMT:    | DB 16H,15H,0AH,04H,0AH,11H ; "НАЧАЛО"
0247 |                                                 101017171717 | FETCH:  | DB 10H,10H,17H,17H,17H,17H ; "____  "
024D |                                                     0A101010 | MA:     | DB 0AH,10H,10H,10H         ; "   A  "
0251 |                                                     120F1010 | FLG:    | DB 12H,0FH,10H,10H         ; "  FL  "
0255 |                                                     0B101010 | MB:     | DB 0BH,10H,10H,10H         ; "   B  "
0259 |                                                     0C101010 | MC:     | DB 0CH,10H,10H,10H         ; "   C  "
025D |                                                     0D101010 | MD:     | DB 0DH,10H,10H,10H         ; "   D  "
0261 |                                                     0E101010 | ME:     | DB 0EH,10H,10H,10H         ; "   E  "
0265 |                                                     11101010 | MH:     | DB 11H,10H,10H,10H         ; "   H  "
0269 |                                                     12101010 | ML:     | DB 12H,10H,10H,10H         ; "   L  "
026D |                                                     11140510 | SPH:    | DB 11H,14H,05H,10H         ; " SPH  "
0271 |                                                     12140510 | SPL:    | DB 12H,14H,05H,10H         ; " SPL  "
0275 |                                                     110C1410 | PCH:    | DB 11H,0CH,14H,10H         ; " PCH  "
0279 |                                                       120C14 | PCL:    | DB 12H,0CH,14H             ; " PCL  "
027C |                                                   1010130318 | ROM:    | DB 10H,10H,13H,03H,18H     ; " ПЗУ  "
0281 |                                                 1A1A1A1A1A1A | ALL:    | DB 1AH,1AH,1AH,1AH,1AH,1AH ; ВСЕ СЕГМЕНТЫ
0287 |                                                 101013030010 | RAM:    | DB 10H,10H,13H,03H,0,10H   ; " ОЗУ  "
028D |                                                     1B0E1405 | PPM:    | DB 1BH,0EH,14H,05H         ; " SPER "
0291 |                                                 101010101010 | BLNKM:  | DB 10H,10H,10H,10H,10H,10H ; "      "
     |                                                              |         |                            ; 
     |                                                              |         |                            ; ОЧИСТКА ДИСПЛЕЯ
     |                                                              |         |                            ; 
0297 |                                                       119102 |         | LXI D,BLNKM                ; СООБЩЕНИЕ "  "
029A |                                                           DF |         | RST 3                      ; ЗАГРУЗИМ ЕГО
029B |                                                       CDE901 |         | CALL DCD                   ; ВЫВЕДЕМ НА ДИСПЛЕЙ
029E |                                                           C9 |         | RET                        ; 
     |                                                              |         |                            ; ТАБЛИЦА ПЕРЕХОДОВ ПО УПРАВЛЯЮЩИМ КЛАВИШАМ
     |                                                              |         |                            ; 
029F |                                                         FEF7 | CHDSS:  | CPI 0F7H                   ; ШАГ МАШИННОГО ЦИКЛА
02A1 |                                                       CAF703 |         | JZ HDSS                    ; 
02A4 |                                                         FE86 | CINSS:  | CPI 086H                   ; ШАГ КОМАНДЫ
02A6 |                                                       CAF103 |         | JZ INSS                    ; 
02A9 |                                                         FE84 | CRUN:   | CPI 84H                    ; ПУСК
02AB |                                                       CAC203 |         | JZ RUN                     ; 
02AE |                                                         FE83 | CSTRM:  | CPI 083H                   ; УВЕЛИЧИТЬ И ЗАПИСАТЬ (ПАМЯТЬ)
02B0 |                                                       CAAF03 |         | JZ STRM                    ; 
02B3 |                                                         FE81 | CDCRM:  | CPI 81H                    ; УМЕНЬШИТЬ (ПАМЯТЬ)
02B5 |                                                       CAAA03 |         | JZ DCRM                    ; 
02B8 |                                                         FE82 | CFETA:  | CPI 82H                    ; ОТЫСКАТЬ АДРЕС
02BA |                                                       CA2803 |         | JZ FETA                    ; 
02BD |                                                         FE85 | CFETB:  | CPI 85H                    ; ПРОГРАММНЫЙ СЧЕТЧИК
02BF |                                                       CA4101 |         | JZ TRP7                    ; 
02C2 |                                                         FE80 | CFETR:  | CPI 80H                    ; ОТЫСКАТЬ РЕГИСТР
02C4 |                                                       CAD502 |         | JZ FETR                    ; 
02C7 |                                                           C9 |         | RET                        ; 
02C8 |                                                         FE83 | CSTRR:  | CPI 83H                    ; ЗАПИСАТЬ И УВЕЛИЧИТЬ (РЕГИСТР)
02CA |                                                       CA1304 |         | JZ STRR                    ; 
02CD |                                                         FE81 | CDCRR:  | CPI 81H                    ; УМЕНЬШИТЬ (РЕГИСТР)
02CF |                                                       CAFD03 |         | JZ DCRR                    ; 
02D2 |                                                       C3B802 |         | JMP CFETA                  ; 
     |                                                              |         |                            ; ОТЫСКАНИЕ РЕГИСТРА
     |                                                              |         |                            ; 
02D5 |                                                           E1 | FETR:   | POP H                      ; ОСВОБОДИТЬ СТЕК
02D6 |                                                       214D02 |         | LXI H,MA                   ; СООБЩЕНИЕ "  А  "
02D9 |                                                       01E70B |         | LXI B,SAVA                 ; ОБЛАСТЬ СОХРАНЕНИЯ РЕГИСТРА А
02DC |                                                           2B | FETR1:  | DCX H                      ; АДРЕС ДЛЯ ЗАПИСИ ДАННЫХ НА ДИСПЛЕЙ
02DD |                                                           2B |         | DCX H                      ; 
02DE |                                                       22F80B | FETR2:  | SHLD RMP                   ; СОХРАНИМ УКАЗАТЕЛЬ СООБЩЕНИЯ
02E1 |                                                           EB |         | XCHG                       ; 
02E2 |                                                           DF |         | RST 3                      ; ЗАПИСАТЬ СООБЩЕНИЕ НА ДИСПЛЕЙ
02E3 |                                                           0A |         | LDAX B                     ; ПОЛУЧИТЬ СОХРАНЕННОЕ ЗНАЧЕНИЕ А
02E4 |                                                           5F |         | MOV E,A                    ; РАЗДЕЛИТЬ ЕГО НА ПОЛУБАЙТЫ
02E5 |                                                       21F10B |         | LXI H,UDSP + 1             ; 
02E8 |                                                       CD9C03 |         | CALL FETA7                 ; 
02EB |                                                 000000000000 |         | DS 6                       ; 
02F1 |                                                       CD4B01 | FETR3:  | CALL KIND                  ; ВВЕДЕМ КЛАВИШУ
02F4 |                                                       CDC802 |         | CALL CSTRR                 ; УПРАВЛЯЮЩАЯ КЛАВИША?
02F7 |                                                       D2F102 |         | JNC FETR3                  ; ЕСЛИ НЕ УПРАВЛЯЮЩАЯ И НЕ ЦИФРА
02FA |                                                           5F |         | MOV E,A                    ; 
02FB |                                                           2C |         | INR L                      ; HL - HA UDSP1
02FC |                                                         3600 |         | MVI M,000H                 ; ЗАПИШЕМ В НЕГО 0
02FE |                                                           2D | FETR4:  | DCR L                      ; НАЗАД НА UDSP0
02FF |                                                           73 |         | MOV M,E                    ; ЗАПОМНИМ ТАМ ВВЕДЕННУЮ ЦИФРУ
0300 |                                                       CD1903 | FETR5:  | CALL DPS                   ; УСТАНОВИМ УКАЗАТЕЛЬ ВВОДА - ТОЧКУ
     |                                                              |         |                            ; В МЛАДШЕМ ЗНАКЕ ДИСПЛЕЯ ВВЕДЕМ
     |                                                              |         |                            ; СЛЕДУЮЩУЮ КЛАВИШУ
0303 |                                                       CDC802 |         | CALL CSTRR                 ; УПРАВЛЯЮЩАЯ КЛАВИША?
0306 |                                                       D20003 |         | JNC FETR5                  ; ЕСЛИ НЕ УПРАВЛЯЮЩАЯ И НЕ ЦИФРА
0309 |                                                           2C |         | INR L                      ; СДВИНЕМ ДАННЫЕ НА ДИСПЛЕЕ ВЛЕВО
030A |                                                           53 |         | MOV D,E                    ; 
030B |                                                           5F |         | MOV E,A                    ; И
030C |                                                           72 |         | MOV M,D                    ; 
030D |                                                       C3FE02 |         | JMP FETR4                  ; ПРОДОЛЖИМ....
0310 |                                           000000000000000000 |         | DS 9                       ; 
     |                                                              |         |                            ; ОСТАНОВКА ДЕСЯТИЧНОЙ ТОЧКИ
     |                                                              |         |                            ; 
0319 |                                                         3E01 | DPS:    | MVI A,1                    ; ФЛАГ ВКЛЮЧЕНИЯ ДЕСЯТИЧНОЙ ТОЧКИ
031B |                                                       32F60B |         | STA UDSP6                  ; УСТАНОВИМ ЕГО
031E |                                                       CD4B01 |         | CALL KIND                  ; ВВЕДЕМ СЛЕДУЮЩУЮ КЛАВИШУ
0321 |                                                           F5 |         | PUSH PSW                   ; 
0322 |                                                           AF |         | XRA A                      ; СБРОСИМ ФЛАГ
0323 |                                                       32F60B |         | STA UDSP6                  ; 
0326 |                                                           F1 |         | POP PSW                    ; 
0327 |                                                           C9 |         | RET                        ; 
     |                                                              |         |                            ; ОТЫСКАНИЕ АДРЕСА
     |                                                              |         |                            ; 
0328 |                                                           D1 | FETA:   | POP D                      ; ОСВОБОДИТЬ СТЕК
0329 |                                                       114702 | FETAR:  | LXI D,FETCH                ; АДРЕС СООБЩЕНИЯ "____"
032C |                                                           DF |         | RST 3                      ; СКОПИРУЕМ
032D |                                                         0E04 |         | MVI C,4                    ; НУЖНО ВВЕСТИ 4 ЦИФРЫ АДРЕСА
032F |                                                       CD4B01 | FETA1:  | CALL KIND                  ; ВВЕДЕМ КЛАВИШУ
0332 |                                                       CDB802 |         | CALL CFETA                 ; УПРАВЛЯЮЩАЯ?
0335 |                                                       D22F03 |         | JNC FETA1                  ; 
0338 |                                                       21F60B |         | LXI H,UDSP6                ; 
033B |                                                           47 |         | MOV B,A                    ; СДВИГАЕМ АДРЕС НА ДИСПЛЕЕ ВЛЕВО
033C |                                                         FE01 |         | CPI 1                      ; 
033E |                                                       C24A03 |         | JNZ FETA8                  ; 
0341 |                                                         3E04 |         | MVI A,4                    ; 
0343 |                                                           B9 |         | CMP C                      ; 
0344 |                                                       C24A03 |         | JNZ FETA8                  ; 
0347 |                                                       C32903 |         | JMP FETAR                  ; 
034A |                                                           78 | FETA8:  | MOV A,B                    ; 
034B |                                                         0604 |         | MVI B,4                    ; 
034D |                                                           2D | FETA2:  | DCR L                      ; 
034E |                                                           2D |         | DCR L                      ; 
034F |                                                           56 |         | MOV D,M                    ; 
0350 |                                                           2C |         | INR L                      ; 
0351 |                                                           72 |         | MOV M,D                    ; 
0352 |                                                           05 |         | DCR B                      ; 
0353 |                                                       C24D03 |         | JNZ FETA2                  ; 
0356 |                                                           77 |         | MOV M,A                    ; ПОСЛЕДНЯЯ ЦИФРА - МЛАДШИЙ ЗНАК
0357 |                                                           0D |         | DCR C                      ; КОНТРОЛЬ НА ВВОД ВСЕХ ЦИФР
0358 |                                                       C22F03 |         | JNZ FETA1                  ; 
035B |                                                       CD9303 |         | CALL FETA6                 ; УПАКУЕМ ПОЛУЧЕННЫЙ АДРЕС В BC
035E |                                                           4F |         | MOV C,A                    ; 
035F |                                                           2C |         | INR L                      ; 
0360 |                                                       CD9303 |         | CALL FETA6                 ; 
0363 |                                                           47 |         | MOV B,A                    ; 
0364 |                                                       21F50B | FETA3:  | LXI H,UDSP + 5             ; РАСПАКУЕМ АДРЕС ИЗ BC И ЗАПИШЕМ
0367 |                                                           58 |         | MOV E,B                    ; 
0368 |                                                       CD9C03 |         | CALL FETA7                 ; 
036B |                                                           2D |         | DCR L                      ; 
036C |                                                           59 |         | MOV E,C                    ; 
036D |                                                       CD9C03 |         | CALL FETA7                 ; 
0370 |                                                           2D |         | DCR L                      ; 
0371 |                                                           0A |         | LDAX B                     ; ПОЛУЧИМ ДАННЫЕ ИЗ УКАЗАННОГО АДРЕСА
0372 |                                                           5F |         | MOV E,A                    ; РАСПАКУЕМ ИХ И ЗАПИШЕМ НА ДИСПЛЕЙ
0373 |                                                       CD9C03 |         | CALL FETA7                 ; 
     |                                                              |         |                            ; ИЗМЕНЕНИЕ ДАННЫХ
     |                                                              |         |                            ; 
0376 |                                                       CD4B01 |         | CALL KIND                  ; ВЫВЕЛИ СООБЩЕНИЕ И ЖДЕМ ВВОДА
0379 |                                                       CD9F02 |         | CALL CHDSS                 ; НЕ ВЕРНЕМСЯ, ЕСЛИ ОНА УПРАВЛЯЮЩАЯ
037C |                                                           5F |         | MOV E,A                    ; ДАВННЫЕ ЗАПИШЕМ В E
037D |                                                           77 |         | MOV M,A                    ; И В UDSP0
037E |                                                           2C |         | INR L                      ; 
037F |                                                         3600 |         | MVI M,0                    ; В UDSP1 ЗАПИШЕМ 0
0381 |                                                           2D | FETA4:  | DCR L                      ; 
0382 |                                                           73 |         | MOV M,E                    ; ВВЕДЕННУЮ ЦИФРУ - В UDSP0
0383 |                                                       CD1903 | FETA5:  | CALL DPS                   ; ВКЛЮЧАЕМ ТОЧКУ И ВВОДИМ КЛАВИШУ
0386 |                                                       CDAE02 |         | CALL CSTRM                 ; УПРАВЛЯЮЩАЯ?
0389 |                                                       D28303 |         | JNC FETA5                  ; 
038C |                                                           2C |         | INR L                      ; СДВИГАЕМ ДАННЫЕ НА ДИСПЛЕЕ
038D |                                                           53 |         | MOV D,E                    ; 
038E |                                                           5F |         | MOV E,A                    ; 
038F |                                                           72 |         | MOV M,D                    ; 
0390 |                                                       C38103 |         | JMP FETA4                  ; ПРОДОЛЖАЕМ ВВОД
     |                                                              |         |                            ; 
     |                                                              |         |                            ; УПАКОВКА ДВУХ ШЕСТНАДЦАТИРИЧНЫХ ЧИСЕЛ В РЕГИСТРЕ А
     |                                                              |         |                            ; 
0393 |                                                           5E | FETA6:  | MOV E,M                    ; МЛАДШАЯ ШЕСТНАДЦАТИРИЧНАЯ ЦИФРА
0394 |                                                           23 |         | INX H                      ; 
0395 |                                                           7E |         | MOV A,M                    ; СТАРШАЯ
0396 |                                                           07 |         | RLC                        ; 
0397 |                                                           07 |         | RLC                        ; 
0398 |                                                           07 |         | RLC                        ; 
0399 |                                                           07 |         | RLC                        ; 
039A |                                                           B3 |         | ORA E                      ; УПАКУЕМ В РЕГИСТРЕ А
039B |                                                           C9 |         | RET                        ; 
     |                                                              |         |                            ; РАСПАКОВКА ШЕСТНАДЦАТИРИЧНОГО ЧИСЛА ИЗ РЕГИСТРА Е
     |                                                              |         |                            ; 
039C |                                                           7B | FETA7:  | MOV A,E                    ; ВЫДЕЛЯЕМ МЛАДШУЮ ЦИФРУ
039D |                                                           0F |         | RRC                        ; 
039E |                                                           0F |         | RRC                        ; 
039F |                                                           0F |         | RRC                        ; 
03A0 |                                                           0F |         | RRC                        ; 
03A1 |                                                         160F |         | MVI D,0FH                  ; 
03A3 |                                                           A2 |         | ANA D                      ; 
03A4 |                                                           77 |         | MOV M,A                    ; ЗАПИСАЛИ
03A5 |                                                           2D |         | DCR L                      ; 
03A6 |                                                           7B |         | MOV A,E                    ; ВЫДЕЛЯЕМ СТАРШУЮ ЦИФРУ
03A7 |                                                           A2 |         | ANA D                      ; 
03A8 |                                                           77 |         | MOV M,A                    ; ЗАПИСАЛИ
03A9 |                                                           C9 |         | RET                        ; 
     |                                                              |         |                            ; УМЕНЬШЕНИЕ АДРЕСА ПАМЯТИ
     |                                                              |         |                            ; 
03AA |                                                           0B | DCRM:   | DCX B                      ; УМЕНЬШИТЬ АДРЕС
03AB |                                                           E1 |         | POP H                      ; 
03AC |                                                       C36403 |         | JMP FETA3                  ; ОТОБРАЗИТЬ ЕГО С СОДЕРЖИМЫМ
     |                                                              |         |                            ; 
     |                                                              |         |                            ; ЗАПИСЬ ДАННЫХ В ПАМЯТЬ И УВЕЛИЧЕНИЕ АДРЕСА
     |                                                              |         |                            ; 
03AF |                                                           D1 | STRM:   | POP D                      ; ОСВОБОДИТЬ СТЕК
03B0 |                                                       CD9303 |         | CALL FETA6                 ; УПАКУЕМ ДАННЫЕ С ДИСПЛЕЯ
03B3 |                                                           5F |         | MOV E,A                    ; 
03B4 |                                                           02 |         | STAX B                     ; ЗАПИШЕМ И
03B5 |                                                           0A |         | LDAX B                     ; ПРОВЕРИМ КАК ЗАПИСАЛОСЬ
03B6 |                                                           BB |         | CMP E                      ; 
03B7 |                                                           03 |         | INX B                      ; УКАЖЕМ НА СЛЕДУЮЩИЙ АДРЕС
03B8 |                                                       CA6403 |         | JZ FETA3                   ; НОРМАЛЬНО - ОТОБРАЗИМ СЛЕДУЮЩИЙ
03BB |                                                           0B |         | DCX B                      ; ЕСЛИ НЕТ - ВОССТАНОВИМ АДРЕС,
03BC |                                                           C5 |         | PUSH B                     ; 
03BD |                                                           D7 |         | RST 2                      ; ПОПИЩИМ И
03BE |                                                           C1 |         | POP B                      ; 
03BF |                                                       C36403 |         | JMP FETA3                  ; ОТОБРАЗИМ ЕГО С СОДЕРЖИМЫМ
     |                                                              |         |                            ; 
     |                                                              |         |                            ; ЗАПУСК ПРОГРАММЫ ПО АДРЕСУ НА ДИСПЛЕЕ
     |                                                              |         |                            ; 
03C2 |                                                       21D309 | RUN:    | LXI H,9D3H                 ; КОМАНДА КВЛЮЧЕНИЯ ЗАЩТЬЫ ОЗУ
03C5 |                                                       22D50B | RUN1:   | SHLD RAML1                 ; ЗАПИШЕМ ЕЕ
03C8 |                                                       2100C3 |         | LXI H,0C300H               ; КОМАНДА ПЕРЕХОДА НА ПРОГРАММУ
03CB |                                                       22D70B |         | SHLD RAML2                 ; ПОЛЬЗОВАТЕЛЯ (JMP USER)
03CE |                                                       31DB0B |         | LXI SP,SAVRG               ; АДРЕС ПРОГРАММЫ ПОЛЬЗОВАТЕЛЯ
03D1 |                                                           C5 |         | PUSH B                     ; 
03D2 |                                                       21DF0B |         | LXI H,SAVSH                ; ВОССТАНОВИМ СТАРШИЙ БАЙТ SP
03D5 |                                                         360B |         | MVI M,0BH                  ; ПОЛЬЗОВАТЕЛЯ
03D7 |                                                           2B |         | DCX H                      ; 
03D8 |                                                           7E |         | MOV A,M                    ; 
03D9 |                                                         FE40 |         | CPI 40H                    ; ПРОВЕРИМ НЕ ВЫШЕЛ ЛИ ОН ЗА
     |                                                              |         |                            ; ГРАНИЦУ ОТВЕДЕННОЙ ОБЛАСТИ
03DB |                                                       D2E003 |         | JNC RUN2                   ; ЕСЛИ НЕТ
03DE |                                                         36B0 |         | MVI M,0B0H                 ; ИНАЧЕ УСТАНОВИМ ЕГО ЗАНОВО
03E0 |                                                       31E20B | RUN2:   | LXI SP,SAVE                ; ЗАГРУЗИМ РЕГИСТРЫ ПОЛЬЗОВАТЕЛЯ
03E3 |                                                           D1 |         | POP D                      ; 
03E4 |                                                           C1 |         | POP B                      ; 
03E5 |                                                           F1 |         | POP PSW                    ; 
03E6 |                                                       31DE0B |         | LXI SP,SAVSL               ; ВОССТАНОВИМ МЛАДШИЙ БАЙТ SP
03E9 |                                                           E1 |         | POP H                      ; ПОЛЬЗОВАТЕЛЯ
03EA |                                                           F9 |         | SPHL                       ; ПЕРЕЗАГРУЗИМ SP
03EB |                                                       2AE00B |         | LHLD SAVL                  ; 
03EE |                                                       C3D50B |         | JMP RAML1                  ; ЗАПУСК ПРОГРАММЫ ПОЛЬЗОВАТЕЛЯ
     |                                                              |         |                            ; 
     |                                                              |         |                            ; ШАГ КОМАНДЫ
     |                                                              |         |                            ; 
03F1 |                                                       21D30E | INSS:   | LXI H,0ED3H                ; ВКЛЮЧЕНИЕ ЗАЩИТЫ ОЗУ И ПРИЗНАКА
     |                                                              |         |                            ; ШАГ КОМАНДЫ
03F4 |                                                       C3C503 |         | JMP RUN1                   ; ЗВГРУЗКА РЕГИСТРОВ И ПУСК
     |                                                              |         |                            ; 
     |                                                              |         |                            ; ШАГ ЦИКЛА
     |                                                              |         |                            ; 
03F7 |                                                       21D30B | HDSS:   | LXI H,TSAVH                ; ВКЛЮЧЕНИЕ ЗАЩИТЫ ОЗУ И ПРИЗНАКА
     |                                                              |         |                            ; ШАГ ЦИКЛА
03FA |                                                       C3C503 |         | JMP RUN1                   ; ЗВГРУЗКА РЕГИСТРОВ И ПУСК
     |                                                              |         |                            ; 
     |                                                              |         |                            ; УМЕНЬШЕНИЕ НОМЕРА ОТОБРАЖАЕМОГО РЕГИСТРА
     |                                                              |         |                            ; 
03FD |                                                           D1 | DCRR:   | POP D                      ; ОСВОБОДИТЬ СТЕК
03FE |                                                           03 |         | INX B                      ; УКАЗАТЕЛЬ - НА ОБЛАСТЬ СЛЕДУЮЩЕГО РГ
03FF |                                                       2AF80B |         | LHLD RMP                   ; УКАЗАТЕЛЬ СООБЩЕНИЯ О ТЕКУЩЕМ РГ
0402 |                                                           2B |         | DCX H                      ; 
0403 |                                                           2B |         | DCX H                      ; 
0404 |                                                         3EE8 |         | MVI A,0E8H                 ; ПОСМОТРЕЛИ ВСЕ РЕГИСТРЫ?
0406 |                                                           B9 |         | CMP C                      ; 
0407 |                                                       C2DC02 |         | JNZ FETR1                  ; НЕТ
040A |                                                       01DC0B |         | LXI B,SAVPC                ; ДА, НАЧНЕМ СНАЧАЛА
040D |                                                       217902 |         | LXI H,PCL                  ; 
0410 |                                                       C3DC02 |         | JMP FETR1                  ; 
     |                                                              |         |                            ; ЗАПИСЬ ДАННЫХ В РЕГИСТР И УВЕЛИЧЕНИЕ ЕГО НОМЕРА
     |                                                              |         |                            ; 
0413 |                                                           D1 | STRR:   | POP D                      ; ОСВОБОДИТЬ СТЕК
0414 |                                                       CD9303 |         | CALL FETA6                 ; УПАКУЕМ ДАННЫЕ С ДИСПЛЕЯ
0417 |                                                           02 |         | STAX B                     ; ЗАПОМНИМ
0418 |                                                           0B |         | DCX B                      ; УКАЗАТЕЛЬ - НА ОБЛАСТЬ СЛЕДУЮЩЕГО РГ
0419 |                                                       2AF80B |         | LHLD RMP                   ; УКАЗАТЕЛЬ СООБЩЕНИЯ В ТЕКУЩЕМ РГ
041C |                                                           23 |         | INX H                      ; 
041D |                                                           23 |         | INX H                      ; 
041E |                                                           23 |         | INX H                      ; 
041F |                                                           23 |         | INX H                      ; 
0420 |                                                         3EDB |         | MVI A,0DBH                 ; ПОСМОТРЕЛИ ВСЕ РЕГИСТРЫ?
0422 |                                                           B9 |         | CMP C                      ; 
0423 |                                                       CAD502 |         | JZ FETR                    ; ДА
0426 |                                                       C3DE02 |         | JMP FETR2                  ; НЕТ
     |                                                              |         |                            ; 
     |                                                              |         |                            ; ЗАДЕРЖКА ПРИМЕРНО НА 1 МС
     |                                                              |         |                            ; 
0429 |                                                           C5 | DELA:   | PUSH B                     ; 
042A |                                                       010100 |         | LXI B,1                    ; ФИКСИРОВАННОЕ ЗНАЧЕНИЕ 1 МС
042D |                                                       C33104 |         | JMP DEL1                   ; 
     |                                                              |         |                            ; ЗАДЕРЖКА С ДЛИТЕЛЬНОСТЬЮ, ЗАДАВАЕМОЙ BC В МС
     |                                                              |         |                            ; 
0430 |                                                           C5 | DELB:   | PUSH B                     ; 
0431 |                                                           F5 | DEL1:   | PUSH PSW                   ; 
0432 |                                                           AF |         | XRA A                      ; 
0433 |                                                           D5 |         | PUSH D                     ; 
0434 |                                                         1667 | DEL2:   | MVI D,TIME                 ; ЦИКЛ ЗАДЕРЖКИ В 1 МС
0436 |                                                           15 | DEL3:   | DCR D                      ; СЧЕТЧИК ЭТОГО ЦИКЛА
0437 |                                                       C23604 |         | JNZ DEL3                   ; 
043A |                                                           0B |         | DCX B                      ; СЧЕТЧИК КОЛИЧЕСТВА МС
043B |                                                           B8 |         | CMP B                      ; 
043C |                                                       C23404 |         | JNZ DEL2                   ; 
043F |                                                           B9 |         | CMP C                      ; 
0440 |                                                       C23404 |         | JNZ DEL2                   ; ЕЩЕ НЕ КОНЧИЛИ
0443 |                                                           D1 |         | POP D                      ; 
0444 |                                                           F1 |         | POP PSW                    ; 
0445 |                                                           C1 |         | POP B                      ; 
0446 |                                                           C9 |         | RET                        ; 
     |                                                              |         |                            ; ГЕНЕРАЦИЯ ЗВУКОВОГО СИГНАЛА
     |                                                              |         |                            ; 
0447 |                                                         2EFF | BEEP2:  | MVI L,0FFH                 ; МНОЖИТЕЛЬ ДЛИТЕЛЬНОСТИ
0449 |                                                         2600 |         | MVI H,0                    ; ВЫХОДНОЙ ФЛАГ
044B |                                                           48 |         | MOV C,B                    ; СЧЕТЧИК ЧАСТОТЫ
044C |                                                           5A |         | MOV E,D                    ; СЧЕТЧИК ДЛИТЕЛЬНОСТИ
044D |                                                           E5 |         | PUSH H                     ; 
044E |                                                           0D | BEEP3:  | DCR C                      ; 
044F |                                                       C27004 |         | JNZ BEEP6                  ; ЗАДЕРЖКА НА ПОЛПЕРИОДА ЧАСТОТЫ
0452 |                                                           48 |         | MOV C,B                    ; ВОССТАНАВЛИВАЕМ СЧЕТЧИК ЧАСТОТЫ
0453 |                                                           7C |         | MOV A,H                    ; ИНВЕРТИРУЕМ ВЫХОДНОЙ ФЛАГ
0454 |                                                           2F |         | CMA                        ; 
0455 |                                                           B7 |         | ORA A                      ; 
0456 |                                                           67 |         | MOV H,A                    ; 
0457 |                                                       C26004 |         | JNZ BEEP4                  ; ПРОВЕРКА ВЫХОДНОГО ФЛАГА
045A |                                                           AF |         | XRA A                      ; 
045B |                                                         D304 |         | OUT OTR                    ; ВЫКЛЮЧИЛИ ВЫХОД
045D |                                                       C36504 |         | JMP BEEP5                  ; 
0460 |                                                         3EFF | BEEP4:  | MVI A,0FFH                 ; ВКЛЮЧИМ ВХОД
0462 |                                                         D304 |         | OUT OTR                    ; 
0464 |                                                           BE |         | CMP M                      ; 
0465 |                                                           F1 | BEEP5:  | POP PSW                    ; 
0466 |                                                           F5 |         | PUSH PSW                   ; 
0467 |                                                           B7 |         | ORA A                      ; 
0468 |                                                       CA7004 |         | JZ BEEP6                   ; ПРОДОЛЖАЕМ, ЕСЛИ НЕ ЗАКОНЧИЛИ
046B |                                                           7C |         | MOV A,H                    ; ВОЗВРАЩАЕМСЯ, ЕСЛИ ВЫХОД ВЫКЛЮЧЕН
046C |                                                           B7 |         | ORA A                      ; 
046D |                                                       CA7F04 |         | JZ BEEP7                   ; 
0470 |                                                           1D | BEEP6:  | DCR E                      ; СЧЕТЧИК ДЛИТЕЛЬНОСТИ
0471 |                                                       C24E04 |         | JNZ BEEP3                  ; 
0474 |                                                           5A |         | MOV E,D                    ; ВОССТАНАВЛИВАЕМ ЕГО
0475 |                                                           2D |         | DCR L                      ; 
0476 |                                                       C24E04 |         | JNZ BEEP3                  ; 
0479 |                                                           F1 |         | POP PSW                    ; 
047A |                                                           2F |         | CMA                        ; 
047B |                                                           F5 |         | PUSH PSW                   ; 
047C |                                                       C34E04 |         | JMP BEEP3                  ; 
047F |                                                           F1 | BEEP7:  | POP PSW                    ; 
0480 |                                                           C9 |         | RET                        ; 
     |                                                              |         |                            ; UNKNOWN SECTION
     |                                                              |         |                            ; 
     |                                                              |         |                            ; 
     |                                                              |         |                            ; СЕКУНДОМЕР
     |                                                              |         |                            ; КЛ. 0 - СБРОС
     |                                                              |         |                            ; КЛ. 1 - ПУСК/ОСТАНОВ
     |                                                              |         |                            ; 
0481 |                                                       11DB04 | STWCH:  | LXI D,04DBH                ; 
0484 |                                                           DF |         | RST 3                      ; 
0485 |                                                       11FF00 |         | LXI D,00FFH                ; 
0488 |                                                           AF | STWC1:  | XRA A                      ; 
0489 |                                                       32F60B |         | STA 0BF6H                  ; 
048C |                                                       CDE901 |         | CALL DCD                   ; 
048F |                                                         061F |         | MVI B,1FH                  ; 
0491 |                                                           05 | STWC2:  | DCR B                      ; 
0492 |                                                           29 |         | DAD H                      ; 
0493 |                                                       C29104 |         | JNZ STWC2                  ; 
0496 |                                                         3EFB |         | MVI A,0FBH                 ; 
0498 |                                                         D307 |         | OUT 07H                    ; 
049A |                                                         DB06 |         | IN 06H                     ; 
049C |                                                         FEFE |         | CPI 0FEH                   ; 
049E |                                                       CA8104 |         | JZ STWCH                   ; 
04A1 |                                                         3EF7 |         | MVI A,0F7H                 ; 
04A3 |                                                         D307 |         | OUT 07H                    ; 
04A5 |                                                         DB06 |         | IN 06H                     ; 
04A7 |                                                         FEFE |         | CPI 0FEH                   ; 
04A9 |                                                       C2D604 |         | JNZ STWC7                  ; 
04AC |                                                           BB |         | CMP E                      ; 
04AD |                                                       CAB204 |         | JZ STWC3                   ; 
04B0 |                                                           5F |         | MOV E,A                    ; 
04B1 |                                                           14 |         | INR D                      ; 
04B2 |                                                           7A | STWC3:  | MOV A,D                    ; 
04B3 |                                                           1F |         | RAR                        ; 
04B4 |                                                       D28804 |         | JNC STWC1                  ; 
04B7 |                                                       21F00B |         | LXI H,0BF0H                ; 
04BA |                                                           34 | STWC4:  | INR M                      ; 
04BB |                                                           7E |         | MOV A,M                    ; 
04BC |                                                         FE0A |         | CPI 0AH                    ; 
04BE |                                                       C2C704 |         | JNZ STWC6                  ; 
04C1 |                                                         3600 |         | MVI M,00H                  ; 
04C3 |                                                           2C | STWC5:  | INR L                      ; 
04C4 |                                                       C3BA04 |         | JMP STWC4                  ; 
04C7 |                                                       21F30B | STWC6:  | LXI H,0BF3H                ; 
04CA |                                                           7E |         | MOV A,M                    ; 
04CB |                                                         FE06 |         | CPI 06H                    ; 
04CD |                                                       C28804 |         | JNZ STWC1                  ; 
04D0 |                                                         3600 |         | MVI M,00H                  ; 
04D2 |                                                           2C |         | INR L                      ; 
04D3 |                                                       C3C304 |         | JMP STWC5                  ; 
04D6 |                                                         1EFF | STWC7:  | MVI E,0FFH                 ; 
04D8 |                                                       C3B204 |         | JMP STWC3                  ; 
04DB |                                                           00 |         | NOP                        ; 
04DC |                                                           00 |         | NOP                        ; 
04DD |                                                           00 |         | NOP                        ; 
04DE |                                                           00 |         | NOP                        ; 
04DF |                                                           19 |         | DAD D                      ; 
04E0 |                                                           00 |         | NOP                        ; 
     |                                                              |         |                            ; УМНОЖЕНИЕ ОДНОБАЙТНЫХ ЧИСЕЛ
     |                                                              |         |                            ; ВХОД:
     |                                                              |         |                            ; РЕГ. E - МНОЖИТЕЛЬ
     |                                                              |         |                            ; РЕГ. D - МНОЖИМОЕ
     |                                                              |         |                            ; 
     |                                                              |         |                            ; ВЫХОД:
     |                                                              |         |                            ; BC - РЕЗУЛЬТАТ
     |                                                              |         |                            ; 
04E1 |                                                       010000 | MULTY:  | LXI B,0000H                ; ОБНУЛЕНИЕ BC
04E4 |                                                         3E01 |         | MVI A,01H                  ; 
04E6 |                                                           A7 |         | ANA A                      ; СБРОС ФЛАГОВ
04E7 |                                                           F5 | MULT1:  | PUSH PSW                   ; СОХРАНЕНИЕ ФЛАГОВ И АККУМУЛЯТОРА
04E8 |                                                           A3 |         | ANA E                      ; 
04E9 |                                                           78 |         | MOV A,B                    ; 
04EA |                                                       CAEE04 |         | JZ MULT2                   ; 
04ED |                                                           82 |         | ADD D                      ; 
04EE |                                                           1F | MULT2:  | RAR                        ; 
04EF |                                                           47 |         | MOV B,A                    ; 
04F0 |                                                           79 |         | MOV A,C                    ; 
04F1 |                                                           1F |         | RAR                        ; 
04F2 |                                                           4F |         | MOV C,A                    ; 
04F3 |                                                           F1 |         | POP PSW                    ; 
04F4 |                                                           17 |         | RAL                        ; 
04F5 |                                                       D2E704 |         | JNC MULT1                  ; 
04F8 |                                                           C9 |         | RET                        ; 
04F9 |                                                           00 |         | NOP                        ; 
04FA |                                                         1600 |         | MVI D,00H                  ; 
     |                                                              |         |                            ; ОРГАН
     |                                                              |         |                            ; 
04FC |                                                       CD9A01 | ORGN:   | CALL KRD                   ; 
04FF |                                                       CD1C05 |         | CALL ORGN3                 ; 
0502 |                                                           B7 |         | ORA A                      ; 
0503 |                                                       CAFC04 |         | JZ ORGN                    ; 
0506 |                                                       CD0F05 |         | CALL ORGN1                 ; 
0509 |                                                       CD1605 |         | CALL ORGN2                 ; 
050C |                                                       C3FC04 |         | JMP ORGN                   ; 
050F |                                                           3D | ORGN1:  | DCR A                      ; 
0510 |                                                           00 |         | NOP                        ; 
0511 |                                                           00 |         | NOP                        ; 
0512 |                                                       C20F05 |         | JNZ ORGN1                  ; 
0515 |                                                           C9 |         | RET                        ; 
0516 |                                                           7A | ORGN2:  | MOV A,D                    ; 
0517 |                                                           2F |         | CMA                        ; 
0518 |                                                           57 |         | MOV D,A                    ; 
0519 |                                                         D304 |         | OUT 04H                    ; 
051B |                                                           C9 |         | RET                        ; 
051C |                                                         0607 | ORGN3:  | MVI B,07H                  ; 
051E |                                                       21EF0B |         | LXI H,0BEFH                ; 
0521 |                                                           7E | ORGN4:  | MOV A,M                    ; 
0522 |                                                           2F |         | CMA                        ; 
0523 |                                                           B7 |         | ORA A                      ; 
0524 |                                                       CA3905 |         | JZ ORGN6                   ; 
0527 |                                                         FE04 |         | CPI 04H                    ; 
0529 |                                                       C22D05 |         | JNZ ORGN5                  ; 
052C |                                                           3D |         | DCR A                      ; 
052D |                                                           4F | ORGN5:  | MOV C,A                    ; 
052E |                                                           78 |         | MOV A,B                    ; 
052F |                                                           07 |         | RLC                        ; 
0530 |                                                           07 |         | RLC                        ; 
0531 |                                                           B1 |         | ORA C                      ; 
0532 |                                                       213A05 |         | LXI H,053AH                ; 
0535 |                                                           85 |         | ADD L                      ; 
0536 |                                                           6F |         | MOV L,A                    ; 
0537 |                                                           7E |         | MOV A,M                    ; 
0538 |                                                           C9 |         | RET                        ; 
0539 |                                                           05 | ORGN6:  | DCR B                      ; 
053A |                                                           2B |         | DCX H                      ; 
053B |                                                           78 |         | MOV A,B                    ; 
053C |                                                         FE01 |         | CPI 01H                    ; 
053E |                                                       C22105 |         | JNZ ORGN4                  ; 
0541 |                                                           AF |         | XRA A                      ; 
0542 |                                                           C9 |         | RET                        ; 
0543 |                                                     E6000000 |         | DB 0E6H,000H,000H,000H     ; 
0547 |                                                     DABDA300 |         | DB 0DAH,0BDH,0A3H,000H     ; 
054B |                                                     8F857200 |         | DB 08FH,085H,072H,000H     ; 
054F |                                                     645C4D00 |         | DB 064H,05CH,04DH,000H     ; 
0553 |                                                     43383300 |         | DB 043H,038H,033H,000H     ; 
0557 |                                                       2D2420 |         | DB 02DH,024H,020H          ; 055AH
055A |                                                       218D05 | M0:     | LXI H,058DH                ; 
055D |                                                           D5 |         | PUSH D                     ; 
055E |                                                           1A |         | LDAX D                     ; 
055F |                                                         E6F0 |         | ANI 0F0H                   ; 
0561 |                                                       CA6605 |         | JZ M1                      ; 
0564 |                                                         2E99 |         | MVI L,99H                  ; 
0566 |                                                           1A | M1:     | LDAX D                     ; 
0567 |                                                         E60F |         | ANI 0FH                    ; 
0569 |                                                       CA8405 |         | JZ M2                      ; 
056C |                                                         FE0D |         | CPI 0DH                    ; 
056E |                                                       DA7305 |         | JC M3                      ; 
0571 |                                                         3E0C |         | MVI A,0CH                  ; 
0573 |                                                         D601 | M3:     | SUI 01H                    ; 
0575 |                                                           85 |         | ADD L                      ; 
0576 |                                                           6F |         | MOV L,A                    ; 
0577 |                                                           46 |         | MOV B,M                    ; 
0578 |                                                       CD1200 |         | CALL BEEP1                 ; 
057B |                                                           D1 | M4:     | POP D                      ; 
057C |                                                           13 |         | INX D                      ; 
057D |                                                           1A |         | LDAX D                     ; 
057E |                                                           2F |         | CMA                        ; 
057F |                                                           A7 |         | ANA A                      ; 
0580 |                                                           C8 |         | RZ                         ; 
0581 |                                                       C35A05 |         | JMP M0                     ; 
0584 |                                                       018000 | M2:     | LXI B,0080H                ; 
0587 |                                                       CD3004 |         | CALL DELB                  ; 
058A |                                                       C37B05 |         | JMP M4                     ; 
058D |                                                     A1988F87 |         | DB 0A1H,098H,08FH,087H     ; 
0591 |                                                     7F78716B |         | DB 07FH,078H,071H,06BH     ; 
0595 |                                                     645F5954 |         | DB 064H,05FH,059H,054H     ; 
0599 |                                                     4F4A4642 |         | DB 04FH,04AH,046H,042H     ; 
059D |                                                     3E3A3734 |         | DB 03EH,03AH,037H,034H     ; 
05A1 |                                                     312E2B28 |         | DB 031H,02EH,02BH,028H     ; 
05A5 |                                                     06000600 | MSTRT:  | DB 006H,000H,006H,000H     ; 
05A9 |                                                     06000101 |         | DB 006H,000H,001H,001H     ; 
05AD |                                                       0101FF |         | DB 001H,001H,0FFH          ; 
     |                                                              |         |                            ; ♫♫♫ МЕЛОДИЯ. ♫♫♫
     |                                                              |         |                            ; КРОКОДИЛ ГЕНА - "ПУСТЬ БЕГУТ НЕУКЛЮЖЕ"
     |                                                              |         |                            ; 
05B0 |                                                       110006 | MUS01:  | LXI D,MGENA                ; 
05B3 |                                                       CD5A05 |         | CALL 055AH                 ; ?
05B6 |                                                           CF |         | RST 1                      ; 
05B7 |                                                       C3B005 |         | JMP MUS01                  ; 
     |                                                              |         |                            ; ♫♫♫ МЕЛОДИЯ 2. ♫♫♫
     |                                                              |         |                            ; ???
     |                                                              |         |                            ; 
05BA |                                                       11C405 | MUS02:  | LXI D,MUNK                 ; 
05BD |                                                       CD5A05 |         | CALL 055AH                 ; ?
05C0 |                                                           CF |         | RST 1                      ; 
05C1 |                                                       C3BA05 |         | JMP MUS02                  ; 
     |                                                              |         |                            ; ♫♫♫ МЕЛОДИЯ 2. ♫♫♫
     |                                                              |         |                            ; ???
     |                                                              |         |                            ; 
05C4 |                                                     01040804 | MUNK:   | DB 001H,004H,008H,004H     ; 
05C8 |                                                     06060403 |         | DB 006H,006H,004H,003H     ; 
05CC |                                                     08080606 |         | DB 008H,008H,006H,006H     ; 
05D0 |                                                     01010100 |         | DB 001H,001H,001H,000H     ; 
05D4 |                                                     04080B0B |         | DB 004H,008H,00BH,00BH     ; 
05D8 |                                                     11110B09 |         | DB 011H,011H,00BH,009H     ; 
05DC |                                                     08080800 |         | DB 008H,008H,008H,000H     ; 
05E0 |                                                     0A0A0C0C |         | DB 00AH,00AH,00CH,00CH     ; 
05E4 |                                                     13110808 |         | DB 013H,011H,008H,008H     ; 
05E8 |                                                     00030301 |         | DB 000H,003H,003H,001H     ; 
05EC |                                                     08060909 |         | DB 008H,006H,009H,009H     ; 
05F0 |                                                     09000B09 |         | DB 009H,000H,00BH,009H     ; 
05F4 |                                                     08080604 |         | DB 008H,008H,006H,004H     ; 
05F8 |                                                     08080606 |         | DB 008H,008H,006H,006H     ; 
05FC |                                                     111111FF |         | DB 011H,011H,011H,0FFH     ; 
     |                                                              |         |                            ; ♫♫♫ МЕЛОДИЯ 1. ♫♫♫
     |                                                              |         |                            ; КРОКОДИЛ ГЕНА - "ПУСТЬ БЕГУТ НЕУКЛЮЖЕ"
     |                                                              |         |                            ; 
0600 |                                                     001A1B1A | MGENA:  | DB 000H,01AH,01BH,01AH     ; 
0604 |                                                     1A1A1A1A |         | DB 01AH,01AH,01AH,01AH     ; 
0608 |                                                     000A0B0A |         | DB 000H,00AH,00BH,00AH     ; 
060C |                                                     0A0A0A0A |         | DB 00AH,00AH,00AH,00AH     ; 
0610 |                                                     000A0B0A |         | DB 000H,00AH,00BH,00AH     ; 
0614 |                                                     0A030506 |         | DB 00AH,003H,005H,006H     ; 
0618 |                                                     030A0B0A |         | DB 003H,00AH,00BH,00AH     ; 
061C |                                                     0A050608 |         | DB 00AH,005H,006H,008H     ; 
0620 |                                                     050A0B0A |         | DB 005H,00AH,00BH,00AH     ; 
0624 |                                                     0A050608 |         | DB 00AH,005H,006H,008H     ; 
0628 |                                                     080A0B0A |         | DB 008H,00AH,00BH,00AH     ; 
062C |                                                     0A0A0A0A |         | DB 00AH,00AH,00AH,00AH     ; 
0630 |                                                     00131413 |         | DB 000H,013H,014H,013H     ; 
0634 |                                                     130A0B11 |         | DB 013H,00AH,00BH,011H     ; 
0638 |                                                     0A131413 |         | DB 00AH,013H,014H,013H     ; 
063C |                                                     13080A0B |         | DB 013H,008H,00AH,00BH     ; 
0640 |                                                     13110B13 |         | DB 013H,011H,00BH,013H     ; 
0644 |                                                     130A0605 |         | DB 013H,00AH,006H,005H     ; 
0648 |                                                     05080603 |         | DB 005H,008H,006H,003H     ; 
064C |                                                     03030303 |         | DB 003H,003H,003H,003H     ; 
0650 |                                                     00030606 |         | DB 000H,003H,006H,006H     ; 
0654 |                                                     06050500 |         | DB 006H,005H,005H,000H     ; 
0658 |                                                     00050808 |         | DB 000H,005H,008H,008H     ; 
065C |                                                     08060600 |         | DB 008H,006H,006H,000H     ; 
0660 |                                                     00060A0A |         | DB 000H,006H,00AH,00AH     ; 
0664 |                                                     0A080800 |         | DB 00AH,008H,008H,000H     ; 
0668 |                                                     000B0A11 |         | DB 000H,00BH,00AH,011H     ; 
066C |                                                     11111111 |         | DB 011H,011H,011H,011H     ; 
0670 |                                                     000A1111 |         | DB 000H,00AH,011H,011H     ; 
0674 |                                                     110B0B00 |         | DB 011H,00BH,00BH,000H     ; 
0678 |                                                     00080B0B |         | DB 000H,008H,00BH,00BH     ; 
067C |                                                     0B0A0A00 |         | DB 00BH,00AH,00AH,000H     ; 
0680 |                                                     00060A08 |         | DB 000H,006H,00AH,008H     ; 
0684 |                                                     0800000A |         | DB 008H,000H,000H,00AH     ; 
0688 |                                                     0A0A0A03 |         | DB 00AH,00AH,00AH,003H     ; 
068C |                                                     03000305 |         | DB 003H,000H,003H,005H     ; 
0690 |                                                     060A110B |         | DB 006H,00AH,011H,00BH     ; 
0694 |                                                     0A0B0A08 |         | DB 00AH,00BH,00AH,008H     ; 
0698 |                                                     06050303 |         | DB 006H,005H,003H,003H     ; 
069C |                                                     001313FF |         | DB 000H,013H,013H,0FFH     ; 
     |                                                              |         |                            ; СТАРТОВАЯ МЕЛОДИЯ
     |                                                              |         |                            ; 
06A0 |                                                       11A505 | LMC:    | LXI D,MSTRT                ; 
06A3 |                                                       CD5A05 |         | CALL 055AH                 ; 
06A6 |                                                           C9 |         | RET                        ; 
06A7 |                                                           00 |         | NOP                        ; 
     |                                                              |         |                            ; ???????
     |                                                              |         |                            ; 06A8
     |                                                              |         |                            ; 
06A8 |                                                           F5 | MM0:    | PUSH PSW                   ; 
06A9 |                                                           D5 |         | PUSH D                     ; 
06AA |                                                           C5 |         | PUSH B                     ; 
06AB |                                                           D5 | MM1:    | PUSH D                     ; 
06AC |                                                           DF |         | RST 3                      ; 
06AD |                                                           D1 |         | POP D                      ; 
06AE |                                                         0604 |         | MVI B,04H                  ; 
06B0 |                                                       21F50B |         | LXI H,0BF5H                ; 
06B3 |                                                       CD4B01 | MM2:    | CALL KIND                  ; 
06B6 |                                                         FE81 |         | CPI 81H                    ; 
06B8 |                                                       CAAB06 |         | JZ MM1                     ; 
06BB |                                                         FE10 |         | CPI 10H                    ; 
06BD |                                                       D2B306 |         | JNC MM2                    ; 
06C0 |                                                           77 |         | MOV M,A                    ; 
06C1 |                                                           05 |         | DCR B                      ; 
06C2 |                                                           2B |         | DCX H                      ; 
06C3 |                                                       C2B306 |         | JNZ MM2                    ; 
06C6 |                                                       CD4B01 | MM3:    | CALL KIND                  ; 
06C9 |                                                         FE81 |         | CPI 81H                    ; 
06CB |                                                       CAAB06 |         | JZ MM1                     ; 
06CE |                                                         FE83 |         | CPI 83H                    ; 
06D0 |                                                       C2C606 |         | JNZ MM3                    ; 
06D3 |                                                       21F40B |         | LXI H,0BF4H                ; 
06D6 |                                                       CD9303 |         | CALL FETA6                 ; 
06D9 |                                                           57 |         | MOV D,A                    ; 
06DA |                                                       21F20B |         | LXI H,0BF2H                ; 
06DD |                                                       CD9303 |         | CALL FETA6                 ; 
06E0 |                                                           5F |         | MOV E,A                    ; 
06E1 |                                                           D5 |         | PUSH D                     ; 
06E2 |                                                           D7 |         | RST 2                      ; 
06E3 |                                                           E1 |         | POP H                      ; 
06E4 |                                                           C1 |         | POP B                      ; 
06E5 |                                                           D1 |         | POP D                      ; 
06E6 |                                                           F1 |         | POP PSW                    ; 
06E7 |                                                           C9 |         | RET                        ; 
     |                                                              |         |                            ; ????
     |                                                              |         |                            ; 
06E8 |                                                           14 |         | INR D                      ; 
06E9 |                                                           00 |         | NOP                        ; 
06EA |                                                           17 |         | RAL                        ; 
06EB |                                                           17 |         | RAL                        ; 
06EC |                                                           17 |         | RAL                        ; 
06ED |                                                           17 |         | RAL                        ; ????
06EE |                                                           D5 | MMM0:   | PUSH D                     ; 
06EF |                                                           EB |         | XCHG                       ; 
06F0 |                                                       2A020B |         | LHLD 0B02H                 ; 
06F3 |                                                       CDFA06 |         | CALL MMM1                  ; 
06F6 |                                                           EB |         | XCHG                       ; 
06F7 |                                                           D1 |         | POP D                      ; 
06F8 |                                                           23 |         | INX H                      ; 
06F9 |                                                           C9 |         | RET                        ; 
06FA |                                                           7C | MMM1:   | MOV A,H                    ; 
06FB |                                                           BA |         | CMP D                      ; 
06FC |                                                           C0 |         | RNZ                        ; 
06FD |                                                           7D |         | MOV A,L                    ; 
06FE |                                                           BB |         | CMP E                      ; 
06FF |                                                           C9 |         | RET                        ; 
0700 |                                                           C5 | MMMM0:  | PUSH B                     ; 
0701 |                                                         0E08 |         | MVI C,08H                  ; 
0703 |                                                           07 | MMMM2:  | RLC                        ; 
0704 |                                                           2F |         | CMA                        ; 
0705 |                                                         D304 |         | OUT 04H                    ; 
0707 |                                                       CD1607 |         | CALL MMMM1                 ; 
070A |                                                           2F |         | CMA                        ; 
070B |                                                         D304 |         | OUT 04H                    ; 
070D |                                                       CD1607 |         | CALL MMMM1                 ; 
0710 |                                                           0D |         | DCR C                      ; 
0711 |                                                       C20307 |         | JNZ MMMM2                  ; 
0714 |                                                           C1 |         | POP B                      ; 
0715 |                                                           C9 |         | RET                        ; 
0716 |                                                         0630 | MMMM1:  | MVI B,30H                  ; 
0718 |                                                           05 | MMMM3:  | DCR B                      ; 
0719 |                                                       C21807 |         | JNZ MMMM3                  ; 
071C |                                                           C9 |         | RET                        ; 
071D |                                                         0E01 | MMMM11: | MVI C,01H                  ; 
071F |                                                         DB04 | MMMM5:  | IN 04H                     ; 
0721 |                                                           47 |         | MOV B,A                    ; 
0722 |                                                         DB04 | MMMM4:  | IN 04H                     ; 
0724 |                                                           B8 |         | CMP B                      ; 
0725 |                                                       CA2207 |         | JZ MMMM4                   ; 
0728 |                                                         0648 |         | MVI B,48H                  ; 
072A |                                                       CD1807 |         | CALL MMMM3                 ; 
072D |                                                           0F |         | RRC                        ; 
072E |                                                           79 |         | MOV A,C                    ; 
072F |                                                           17 |         | RAL                        ; 
0730 |                                                           4F |         | MOV C,A                    ; 
0731 |                                                       D21F07 |         | JNC MMMM5                  ; 
0734 |                                                       3A060B |         | LDA 0B06H                  ; 
0737 |                                                           A9 |         | XRA C                      ; 
0738 |                                                           C9 |         | RET                        ; 
0739 |                                                           AF | MMMM13: | XRA A                      ; 
073A |                                                       32060B |         | STA 0B06H                  ; 
073D |                                                         F680 | MMMM6:  | ORI 80H                    ; 
073F |                                                           4F |         | MOV C,A                    ; 
0740 |                                                       CD1F07 |         | CALL MMMM5                 ; 
0743 |                                                         FEE6 |         | CPI 0E6H                   ; 
0745 |                                                           C8 |         | RZ                         ; 
0746 |                                                         FE19 |         | CPI 19H                    ; 
0748 |                                                       C23D07 |         | JNZ MMMM6                  ; 
074B |                                                         3EFF |         | MVI A,0FFH                 ; 
074D |                                                       32060B |         | STA 0B06H                  ; 
0750 |                                                           C9 |         | RET                        ; 
0751 |                                                           7B | MMMM9:  | MOV A,E                    ; 
0752 |                                                       CD0007 |         | CALL MMMM0                 ; 
0755 |                                                           CF |         | RST 1                      ; 
0756 |                                                       11E806 |         | LXI D,06E8H                ; 
0759 |                                                       CDA806 |         | CALL MM0                   ; 
075C |                                                       22000B |         | SHLD 0B00H                 ; 
075F |                                                       CDA806 |         | CALL MM0                   ; 
0762 |                                                       22020B |         | SHLD 0B02H                 ; 
0765 |                                                       11DC07 |         | LXI D,07DCH                ; 
0768 |                                                       CDA806 |         | CALL MM0                   ; 
076B |                                                       22040B |         | SHLD 0B04H                 ; 
076E |                                                           AF |         | XRA A                      ; 
076F |                                                           47 |         | MOV B,A                    ; 
0770 |                                                       CD0007 | MMMM7:  | CALL MMMM0                 ; 
0773 |                                                           05 |         | DCR B                      ; 
0774 |                                                       C27007 |         | JNZ MMMM7                  ; 
0777 |                                                       21FF0A |         | LXI H,0AFFH                ; 
077A |                                                         1608 |         | MVI D,08H                  ; 
077C |                                                           5F |         | MOV E,A                    ; 
077D |                                                         3EE6 |         | MVI A,0E6H                 ; 
077F |                                                           15 | MMMM10: | DCR D                      ; 
0780 |                                                       C28807 |         | JNZ MMMM8                  ; 
0783 |                                                       2A000B |         | LHLD 0B00H                 ; 
0786 |                                                           2B |         | DCX H                      ; 
0787 |                                                           7B |         | MOV A,E                    ; 
0788 |                                                       CD0007 | MMMM8:  | CALL MMMM0                 ; 
078B |                                                           83 |         | ADD E                      ; 
078C |                                                           5F |         | MOV E,A                    ; 
078D |                                                       CDEE06 |         | CALL MMM0                  ; 
0790 |                                                       CA5107 |         | JZ MMMM9                   ; 
0793 |                                                           7E |         | MOV A,M                    ; 
0794 |                                                           15 |         | DCR D                      ; 
0795 |                                                           14 |         | INR D                      ; 
0796 |                                                       CA8807 |         | JZ MMMM8                   ; 
0799 |                                                       C37F07 |         | JMP MMMM10                 ; 
079C |                                                       CD1D07 | MMMM16: | CALL MMMM11                ; 
079F |                                                           BB |         | CMP E                      ; 
07A0 |                                                       2A040B |         | LHLD 0B04H                 ; 
07A3 |                                                       CAD807 |         | JZ MMMM12                  ; 
07A6 |                                                           CF |         | RST 1                      ; 
07A7 |                                                         D310 |         | OUT 10H                    ; 
07A9 |                                                       CD3907 |         | CALL MMMM13                ; 
07AC |                                                       21000B |         | LXI H,0B00H                ; 
07AF |                                                       11E607 |         | LXI D,07E6H                ; 
07B2 |                                                       CD1D07 | MMMM17: | CALL MMMM11                ; 
07B5 |                                                           15 |         | DCR D                      ; 
07B6 |                                                       C2C407 |         | JNZ MMMM14                 ; 
07B9 |                                                           BB |         | CMP E                      ; 
07BA |                                                       C43800 |         | CNZ RS7                    ; 
07BD |                                                       2A000B |         | LHLD 0B00H                 ; 
07C0 |                                                           2B |         | DCX H                      ; 
07C1 |                                                       C3C507 |         | JMP MMMM15                 ; 
07C4 |                                                           77 | MMMM14: | MOV M,A                    ; 
07C5 |                                                           83 | MMMM15: | ADD E                      ; 
07C6 |                                                           5F |         | MOV E,A                    ; 
07C7 |                                                       CDEE06 |         | CALL MMM0                  ; 
07CA |                                                       CA9C07 |         | JZ MMMM16                  ; 
07CD |                                                           14 |         | INR D                      ; 
07CE |                                                       FAB207 |         | JM MMMM17                  ; 
07D1 |                                                           15 |         | DCR D                      ; 
07D2 |                                                       C3B207 |         | JMP MMMM17                 ; 
07D5 |                                                           00 |         | NOP                        ; 
07D6 |                                                           00 |         | NOP                        ; 
07D7 |                                                           00 |         | NOP                        ; 
07D8 |                                                         D30E | MMMM12: | OUT 0EH                    ; 
07DA |                                                           00 |         | NOP                        ; 
07DB |                                                           E9 |         | PCHL                       ; 
07DC |                                                           0D |         | DCR C                      ; 
07DD |                                                           0A |         | LDAX B                     ; 
07DE |                                                           17 |         | RAL                        ; 
07DF |                                                           17 |         | RAL                        ; 
07E0 |                                                           17 |         | RAL                        ; 
07E1 |                                                           17 |         | RAL                        ; 
